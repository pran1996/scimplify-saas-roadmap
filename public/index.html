<!DOCTYPE html>
<html lang="en" x-data="app()" x-init="init()">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scimplify ‚Äî Digital Product Roadmap</title>
<script src="https://cdn.tailwindcss.com"></script>
<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<script>
tailwind.config = {
  theme: {
    extend: {
      fontFamily: { sans: ['Inter', 'sans-serif'] },
      colors: {
        navy: '#0f0d2e',
        indigo: '#6366f1',
        teal: '#14b8a6',
        amber: '#fbbf24',
      }
    }
  }
}
</script>
<style>
[x-cloak]{display:none!important}
body{background:#0f0d2e;font-family:'Inter',sans-serif;color:#e2e8f0}
.glass{background:rgba(255,255,255,0.03);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.08)}
.glass-hover:hover{background:rgba(255,255,255,0.06);border-color:rgba(255,255,255,0.15)}
.glow{box-shadow:0 0 30px rgba(99,102,241,0.15)}
.glow-teal{box-shadow:0 0 30px rgba(20,184,166,0.15)}
::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:#0f0d2e}::-webkit-scrollbar-thumb{background:#6366f1;border-radius:3px}
.fade-in{animation:fadeIn .4s ease}@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.pulse-dot{animation:pulse 2s infinite}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}
.node-line{stroke:rgba(255,255,255,0.1);stroke-width:1}
.node-line.highlighted{stroke:#6366f1;stroke-width:2;opacity:1}
.node-circle{transition:all .3s}.node-circle.dimmed{opacity:.2}.node-circle.highlighted{filter:drop-shadow(0 0 8px currentColor)}
.gantt-bar{border-radius:4px;height:24px;transition:all .3s}
.tier-must{background:linear-gradient(135deg,#6366f1,#818cf8)}.tier-next{background:linear-gradient(135deg,#14b8a6,#2dd4bf)}.tier-traction{background:linear-gradient(135deg,#f59e0b,#fbbf24)}
.score-bar{height:6px;border-radius:3px;transition:width .8s ease}
.matching-anim{animation:matchPulse 1.5s ease infinite}@keyframes matchPulse{0%{box-shadow:0 0 0 0 rgba(99,102,241,.4)}70%{box-shadow:0 0 0 20px rgba(99,102,241,0)}100%{box-shadow:0 0 0 0 rgba(99,102,241,0)}}
</style>
</head>
<body class="min-h-screen">

<!-- NAV -->
<nav class="fixed top-0 w-full z-50 glass border-b border-white/10" style="background:rgba(15,13,46,0.9)">
<div class="max-w-7xl mx-auto flex items-center justify-between px-4 h-14">
  <div class="flex items-center gap-6">
    <span class="text-lg font-bold bg-gradient-to-r from-indigo to-teal bg-clip-text text-transparent">‚öóÔ∏è Scimplify</span>
    <div class="flex gap-1 bg-white/5 rounded-lg p-0.5">
      <button @click="mode='roadmap'" :class="mode==='roadmap'?'bg-indigo text-white':'text-gray-400 hover:text-white'" class="px-3 py-1 rounded-md text-sm font-medium transition">Roadmap</button>
      <button @click="mode='products'" :class="mode==='products'?'bg-indigo text-white':'text-gray-400 hover:text-white'" class="px-3 py-1 rounded-md text-sm font-medium transition">Products</button>
    </div>
  </div>
  <span class="text-sm text-gray-400">Pranshu Jain</span>
</div>
</nav>

<div class="pt-14">

<!-- ==================== ROADMAP MODE ==================== -->
<div x-show="mode==='roadmap'" x-cloak class="fade-in">

<!-- Hero -->
<section class="max-w-6xl mx-auto px-4 py-20 text-center">
  <div class="inline-block px-3 py-1 rounded-full text-xs font-medium bg-indigo/20 text-indigo border border-indigo/30 mb-6">Strategic Roadmap 2025-2026</div>
  <h1 class="text-4xl md:text-5xl font-bold mb-4 leading-tight">Digital Product &amp; SaaS<br><span class="bg-gradient-to-r from-indigo to-teal bg-clip-text text-transparent">Revenue Roadmap</span></h1>
  <p class="text-gray-400 text-lg max-w-2xl mx-auto">Transforming Scimplify from a services company into a platform-powered chemical intelligence business</p>
</section>

<!-- Stats -->
<section class="max-w-5xl mx-auto px-4 pb-16">
<div class="grid grid-cols-2 md:grid-cols-4 gap-4">
  <template x-for="s in [{n:'465',l:'Manufacturers'},{n:'5,000+',l:'Customers'},{n:'350+',l:'Enquiries/Week'},{n:'11',l:'Industries'}]">
    <div class="glass rounded-xl p-5 text-center">
      <div class="text-2xl font-bold text-indigo" x-text="s.n"></div>
      <div class="text-xs text-gray-400 mt-1" x-text="s.l"></div>
    </div>
  </template>
</div>
</section>

<!-- Two Business Models -->
<section class="max-w-5xl mx-auto px-4 pb-16">
<h2 class="text-2xl font-bold mb-6 text-center">Two Revenue Engines</h2>
<div class="grid md:grid-cols-2 gap-6">
  <div class="glass rounded-xl p-6 border-l-4 border-indigo">
    <h3 class="text-lg font-semibold text-indigo mb-2">üè≠ High-Touch Projects</h3>
    <p class="text-sm text-gray-400 mb-3">A customer needs a specific molecule made. Scimplify's scientists design the route, match a manufacturer, manage the project end-to-end.</p>
    <div class="text-xl font-bold text-white">$50K ‚Äî $500K <span class="text-sm font-normal text-gray-400">per project</span></div>
    <div class="mt-3 space-y-1 text-xs text-gray-400">
      <div>üîÑ <span class="text-white">China+1 Switching</span> ‚Äî move production from China to India</div>
      <div>üß™ <span class="text-white">Route Optimization</span> ‚Äî find a cheaper/cleaner synthesis route</div>
      <div>üî¨ <span class="text-white">Custom Molecules</span> ‚Äî develop something that doesn't exist yet</div>
    </div>
    <div class="mt-3 pt-3 border-t border-white/10 text-[10px] text-gray-500">Human-intensive. Powered by IONS Project Hub + ChemGraph.</div>
  </div>
  <div class="glass rounded-xl p-6 border-l-4 border-teal">
    <h3 class="text-lg font-semibold text-teal mb-2">üõí Self-Serve Commerce</h3>
    <p class="text-sm text-gray-400 mb-3">A buyer needs 50kg of a standard chemical they've ordered before. They log in, click reorder, pay ‚Äî no human involved.</p>
    <div class="text-xl font-bold text-white">$5K ‚Äî $50K <span class="text-sm font-normal text-gray-400">per order</span></div>
    <div class="mt-3 space-y-1 text-xs text-gray-400">
      <div>üì¶ <span class="text-white">Catalog Chemicals</span> ‚Äî standardized products with real pricing</div>
      <div>‚ö° <span class="text-white">Instant Quotes</span> ‚Äî no email, no waiting, no sales call</div>
      <div>üîÅ <span class="text-white">Bulk Reordering</span> ‚Äî one-click repeat orders for existing customers</div>
    </div>
    <div class="mt-3 pt-3 border-t border-white/10 text-[10px] text-gray-500">Automated. Powered by ATOMS Commerce. 2-5% take-rate on GMV.</div>
  </div>
</div>
</section>

<!-- Platform Architecture -->
<section class="max-w-5xl mx-auto px-4 pb-16">
<h2 class="text-2xl font-bold mb-2 text-center">How the Products Connect</h2>
<p class="text-xs text-gray-500 text-center mb-6">Each product generates data that makes the next one smarter. Here's a concrete example.</p>

<!-- Story Flow -->
<div class="glass rounded-xl p-6 mb-4">
  <div class="text-xs font-medium text-indigo mb-3">Follow a real scenario through the platform:</div>
  <div class="space-y-3">
    <!-- Step 1 -->
    <div class="glass rounded-lg p-4 border-l-4 border-indigo">
      <div class="flex items-start gap-3">
        <div class="w-7 h-7 shrink-0 rounded-full bg-indigo/20 flex items-center justify-center text-xs font-bold text-indigo">1</div>
        <div>
          <div class="font-semibold text-sm">üìã IONS Project Hub</div>
          <div class="text-xs text-gray-400 mt-1">An EU pharma company wants to switch from their China supplier for Pymetrozine. A project is created in IONS with milestones: route design ‚Üí lab scale ‚Üí pilot ‚Üí tech transfer.</div>
          <div class="text-[10px] text-teal mt-1">üìä Data captured: which factory was matched, what route was used, sample purity at each iteration, final cost/kg, timeline to completion.</div>
        </div>
      </div>
    </div>
    <div class="text-center text-gray-500">‚Üì</div>
    <!-- Step 2 -->
    <div class="glass rounded-lg p-4 border-l-4 border-purple-400">
      <div class="flex items-start gap-3">
        <div class="w-7 h-7 shrink-0 rounded-full bg-purple-500/20 flex items-center justify-center text-xs font-bold text-purple-400">2</div>
        <div>
          <div class="font-semibold text-sm">üï∏Ô∏è ChemGraph</div>
          <div class="text-xs text-gray-400 mt-1">That project data feeds the knowledge graph. Now ChemGraph knows: "Anand Chemtex can produce Pymetrozine at 98.2% purity, $42/kg, 5 steps, via Route B." Next time someone asks, the answer is instant ‚Äî no scientist needed.</div>
          <div class="text-[10px] text-teal mt-1">üìä Intelligence unlocked: cross-sell ("this buyer probably also needs Fexofenadine"), supply risk ("Anand Chemtex is sole source ‚Äî flag backup"), cost benchmark ("$42/kg is 12% below network average").</div>
        </div>
      </div>
    </div>
    <div class="text-center text-gray-500">‚Üì</div>
    <!-- Step 3 -->
    <div class="grid md:grid-cols-2 gap-3">
      <div class="glass rounded-lg p-4 border-l-4 border-teal">
        <div class="flex items-start gap-3">
          <div class="w-7 h-7 shrink-0 rounded-full bg-teal/20 flex items-center justify-center text-xs font-bold text-teal">3a</div>
          <div>
            <div class="font-semibold text-sm">üõ°Ô∏è ComplianceOS</div>
            <div class="text-xs text-gray-400 mt-1">Anand Chemtex's FDA cert is tracked. 90 days before expiry ‚Üí auto-alert. Their gap analysis shows they need REACH to serve more EU buyers. Remediation guided.</div>
            <div class="text-[10px] text-teal mt-1">üìä More certs = qualified for more orders = more revenue through ATOMS.</div>
          </div>
        </div>
      </div>
      <div class="glass rounded-lg p-4 border-l-4 border-green-400">
        <div class="flex items-start gap-3">
          <div class="w-7 h-7 shrink-0 rounded-full bg-green-500/20 flex items-center justify-center text-xs font-bold text-green-400">3b</div>
          <div>
            <div class="font-semibold text-sm">üå± GreenScore</div>
            <div class="text-xs text-gray-400 mt-1">The Pymetrozine route's carbon footprint: 2.1 kg CO‚ÇÇ/kg (vs 5.8 from China). This score appears on the ATOMS product listing. EU buyer saves ‚Ç¨19.5K in CBAM fees per 100-ton order.</div>
            <div class="text-[10px] text-teal mt-1">üìä Carbon data makes the listing more competitive. More EU orders follow.</div>
          </div>
        </div>
      </div>
    </div>
    <div class="text-center text-gray-500">‚Üì</div>
    <!-- Step 4 -->
    <div class="glass rounded-lg p-4 border-l-4 border-amber">
      <div class="flex items-start gap-3">
        <div class="w-7 h-7 shrink-0 rounded-full bg-amber/20 flex items-center justify-center text-xs font-bold text-amber">4</div>
        <div>
          <div class="font-semibold text-sm">üõí ATOMS Commerce</div>
          <div class="text-xs text-gray-400 mt-1">Pymetrozine now listed on ATOMS: ‚Çπ3,200/kg, 98% purity, FDA certified, GreenScore A+, delivery in 4 weeks. The buyer's next order? One click. No email. No sales call.</div>
          <div class="text-[10px] text-teal mt-1">üìä Transaction generates more data ‚Üí feeds back into ChemGraph ‚Üí the loop continues.</div>
        </div>
      </div>
    </div>
  </div>
  <div class="mt-4 pt-4 border-t border-white/10 text-center">
    <p class="text-xs text-white font-medium">One project ‚Üí structured data ‚Üí smarter matching ‚Üí more orders ‚Üí more projects ‚Üí more data.</p>
    <p class="text-xs text-gray-500 mt-1">This is the flywheel. Competitors can copy the UI ‚Äî they can't copy 5 years of accumulated project data across 465 factories.</p>
  </div>
</div>
</section>

<!-- Data Moat Slide -->
<section class="max-w-5xl mx-auto px-4 pb-16">
<h2 class="text-2xl font-bold mb-2 text-center">Why Data, Not AI, Is Our Moat</h2>
<p class="text-xs text-gray-500 text-center mb-6">Benchling's 2026 Biotech AI Report found 55% of AI pilots fail on data quality. Scimplify doesn't have a data problem ‚Äî it has a data <span class="text-white">capture</span> problem. Every product solves it.</p>

<div class="grid md:grid-cols-2 gap-6 mb-6">
  <!-- Left: The Problem -->
  <div class="glass rounded-xl p-5">
    <h3 class="font-semibold text-sm text-red-400 mb-3">‚ùå Where Most Companies Fail</h3>
    <div class="space-y-3 text-xs text-gray-400">
      <div class="flex gap-2"><span class="text-red-400 shrink-0">55%</span> AI pilots fail due to poor data quality & availability</div>
      <div class="flex gap-2"><span class="text-red-400 shrink-0">50%</span> fail on IP, security & compliance friction</div>
      <div class="flex gap-2"><span class="text-red-400 shrink-0">39%</span> still use AI for single tasks only, not end-to-end</div>
      <div class="mt-3 pt-3 border-t border-white/10 text-gray-500 italic">"The race isn't to the best model ‚Äî it's to the best data-to-decision loop."<br>‚Äî Benchling 2026 AI Report</div>
    </div>
  </div>
  <!-- Right: Scimplify's Advantage -->
  <div class="glass rounded-xl p-5 border border-teal/20">
    <h3 class="font-semibold text-sm text-teal mb-3">‚úì What Scimplify Already Has</h3>
    <div class="space-y-3 text-xs text-gray-400">
      <div class="flex gap-2"><span class="text-teal shrink-0">üè≠</span><span><span class="text-white">465+ factory audits</span> ‚Äî capabilities, equipment, capacity, certifications. First-party, verified.</span></div>
      <div class="flex gap-2"><span class="text-teal shrink-0">üß™</span><span><span class="text-white">Synthesis route data</span> ‚Äî reactions, reagents, temperatures, yields, costs. From actual project execution.</span></div>
      <div class="flex gap-2"><span class="text-teal shrink-0">üì¶</span><span><span class="text-white">Transaction history</span> ‚Äî who bought what from whom, at what price, what quality.</span></div>
      <div class="flex gap-2"><span class="text-teal shrink-0">üîó</span><span><span class="text-white">Network graph</span> ‚Äî manufacturer‚Üîproduct‚Üîcustomer relationships no one else can see.</span></div>
    </div>
  </div>
</div>

<!-- Every Product = Data Capture -->
<div class="glass rounded-xl p-6">
  <h3 class="font-semibold text-sm text-center mb-4">Every Product Is a Data Capture Mechanism First, a User Tool Second</h3>
  <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-3">
    <div class="glass rounded-lg p-3 text-center">
      <div class="text-lg mb-1">üìã</div>
      <div class="text-xs font-medium">IONS Project Hub</div>
      <div class="text-[10px] text-gray-500 mt-1">Every project managed = structured route, yield, timeline, and quality data captured</div>
    </div>
    <div class="glass rounded-lg p-3 text-center">
      <div class="text-lg mb-1">üõ°Ô∏è</div>
      <div class="text-xs font-medium">ComplianceOS</div>
      <div class="text-[10px] text-gray-500 mt-1">Every cert tracked = factory qualification status digitized and queryable</div>
    </div>
    <div class="glass rounded-lg p-3 text-center">
      <div class="text-lg mb-1">üõí</div>
      <div class="text-xs font-medium">ATOMS Commerce</div>
      <div class="text-[10px] text-gray-500 mt-1">Every transaction = pricing, demand, and preference signals added to the graph</div>
    </div>
    <div class="glass rounded-lg p-3 text-center">
      <div class="text-lg mb-1">üå±</div>
      <div class="text-xs font-medium">GreenScore</div>
      <div class="text-[10px] text-gray-500 mt-1">Every carbon calculation = proprietary emission data for Indian specialty chemicals</div>
    </div>
  </div>
  <div class="mt-4 pt-4 border-t border-white/10 text-center">
    <p class="text-xs text-gray-400">After 500 products across 200 factories:</p>
    <p class="text-sm font-bold text-teal mt-1">Scimplify owns a proprietary chemical intelligence database that doesn't exist anywhere else.</p>
    <p class="text-xs text-gray-500 mt-1">Competitors can copy the UI. They can't copy 5 years of accumulated project data.</p>
  </div>
</div>

</section>

<!-- Industry Analogies -->
<section class="max-w-5xl mx-auto px-4 pb-16">
<h2 class="text-2xl font-bold mb-6 text-center">Standing on Giant Shoulders</h2>
<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
  <div class="glass rounded-xl p-5">
    <div class="text-2xl mb-2">üî¨</div>
    <div class="font-semibold text-sm mb-1">Benchling</div>
    <div class="text-xs text-gray-500 mb-2">$100M+ ARR ‚Ä¢ R&D OS for biotech</div>
    <div class="text-xs text-gray-400 mb-2">ELN + LIMS + workflow templates + compliance + data platform for internal biotech R&D teams.</div>
    <div class="text-xs text-indigo">
      <span class="font-medium">What we take:</span> Workflow templates, sample traceability, milestone tracking. <span class="font-medium">Skip:</span> Full ELN/LIMS, molecular design.
    </div>
    <div class="mt-2 text-[10px] text-gray-500">‚Üí IONS Project Hub</div>
  </div>
  <div class="glass rounded-xl p-5">
    <div class="text-2xl mb-2">üõ°Ô∏è</div>
    <div class="font-semibold text-sm mb-1">Resilinc</div>
    <div class="text-xs text-gray-500 mb-2">Gartner Leader ‚Ä¢ Supply chain risk for Fortune 500</div>
    <div class="text-xs text-gray-400 mb-2">Multi-tier supplier mapping, disruption monitoring, what-if scenarios, compliance management.</div>
    <div class="text-xs text-indigo">
      <span class="font-medium">What we take:</span> Supply risk queries, alternative sourcing, compliance tracking. <span class="font-medium">Skip:</span> Global news monitoring, agentic AI.
    </div>
    <div class="mt-2 text-[10px] text-gray-500">‚Üí ChemGraph + ComplianceOS</div>
  </div>
  <div class="glass rounded-xl p-5">
    <div class="text-2xl mb-2">üå±</div>
    <div class="font-semibold text-sm mb-1">Sphera</div>
    <div class="text-xs text-gray-500 mb-2">Carbon mgmt leader ‚Ä¢ Enterprise sustainability & EHS</div>
    <div class="text-xs text-gray-400 mb-2">LCA Automation for Chemical Manufacturing, SDS Management, Product Stewardship, Supply Chain Risk. Sells to Dow, BASF at $100K+/yr.</div>
    <div class="text-xs text-indigo">
      <span class="font-medium">What we take:</span> Product-level carbon scoring (simplified LCA), SDS automation. <span class="font-medium">Skip:</span> Full enterprise EHS, process safety. <span class="font-medium">Key diff:</span> Sphera is SAP. We're Shopify ‚Äî same capabilities, embedded in a marketplace for mid-market.
    </div>
    <div class="mt-2 text-[10px] text-gray-500">‚Üí GreenScore + ComplianceOS</div>
  </div>
  <div class="glass rounded-xl p-5">
    <div class="text-2xl mb-2">üè≠</div>
    <div class="font-semibold text-sm mb-1">Cognilix <span class="text-[9px] text-gray-500">(by Moglix)</span></div>
    <div class="text-xs text-gray-500 mb-2">$40Bn+ network ‚Ä¢ B2B commerce SaaS spun from marketplace</div>
    <div class="text-xs text-gray-400 mb-2">Source-to-Pay, Vendor Management, B2B eCommerce (Cognimart), RFQ/Spend Analytics. Born from Moglix's operational backbone ‚Äî exact same playbook we're proposing.</div>
    <div class="text-xs text-indigo">
      <span class="font-medium">What we take:</span> Vendor onboarding (self-serve), B2B eCommerce model, RFQ price benchmarking. <span class="font-medium">Key diff:</span> Cognilix is horizontal (all MRO). We're vertical ‚Äî chemistry-deep matching no horizontal platform can do.
    </div>
    <div class="mt-2 text-[10px] text-gray-500">‚Üí ATOMS Commerce + ComplianceOS</div>
  </div>
  <div class="glass rounded-xl p-5">
    <div class="text-2xl mb-2">üìä</div>
    <div class="font-semibold text-sm mb-1">Veeva Systems</div>
    <div class="text-xs text-gray-500 mb-2">$2B+ ARR ‚Ä¢ Industry cloud for life sciences</div>
    <div class="text-xs text-gray-400 mb-2">Started as CRM for pharma, became the OS ‚Äî every life sciences company runs on Veeva. Vertical SaaS dominance.</div>
    <div class="text-xs text-indigo">
      <span class="font-medium">The playbook:</span> Own the vertical. Start with one workflow, expand to the entire value chain. Specialty chemicals has no Veeva. Yet.
    </div>
    <div class="mt-2 text-[10px] text-gray-500">‚Üí The endgame</div>
  </div>
</div>
</section>

<!-- 6 Product Cards -->
<section class="max-w-6xl mx-auto px-4 pb-16">
<h2 class="text-2xl font-bold mb-6 text-center">The Six Products</h2>
<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-5">

  <!-- Product 2: IONS Project Hub -->
  <div x-data="{open:false}" class="glass rounded-xl p-6 cursor-pointer transition" @click="open=!open">
    <div class="flex justify-between items-start mb-2">
      <span class="text-2xl">üî¨</span>
      <span class="text-[10px] font-semibold px-2 py-0.5 rounded-full text-white tier-must">Must Build</span>
    </div>
    <h3 class="font-semibold mb-1">IONS Project Hub</h3>
    <p class="text-xs text-gray-400 mb-2">"Every molecule has a journey. Now you can track it."</p>
    <p x-show="!open" class="text-[10px] text-gray-500 italic mt-1">Click to expand ‚Üì</p>
    <div x-show="open" x-collapse class="mt-3 space-y-3 text-xs text-gray-400">
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">What It Does</p>
        <ul class="list-disc list-inside space-y-1">
          <li>Project management platform for R&D engagements ‚Äî NOT a scientist marketplace</li>
          <li>Three workflow templates: Route Optimization, Custom Molecule Development, China+1 Switch</li>
          <li>Milestone-based tracking with quality gates (Discovery ‚Üí Feasibility ‚Üí Lab Scale ‚Üí Pilot ‚Üí Tech Transfer ‚Üí Qualification ‚Üí Production)</li>
          <li>Sample tracking with iteration history ("V1: Purity 95% ‚Äî rejected. V2: 97.5%. V3: 98.2% ‚úì")</li>
          <li>Customer-facing portal for project status, feedback submission, milestone approvals</li>
        </ul>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">ICP</p>
        <p>R&D heads and procurement managers with active Scimplify projects. Internally: Scimplify scientists managing 20+ concurrent projects.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Value Created</p>
        <p>Scientists become 3-5x more productive (structured workflows vs spreadsheet chaos). Customer transparency ‚Äî no more "where's my sample?" emails. Project cycle time reduced 30-40%.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Value Captured</p>
        <p>Managed tier: $2,000-5,000/mo per active project. Primary value: more projects per scientist = more revenue. Self-serve tier (future): $500/mo.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Industry Analogy</p>
        <p class="italic">"Benchling for contract chemistry R&D ‚Äî but where Benchling serves internal biotech teams, IONS serves outsourced R&D with a customer-facing collaboration layer Benchling doesn't have."</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">What We Take from Benchling</p>
        <p>Workflow templates per project type. Sample traceability with iteration history. Milestone-based tracking. Compliance checkpoints embedded in workflows.</p>
        <p class="mt-1"><span class="text-white">What we skip:</span> Full ELN/LIMS, molecular design tools, GxP validation environments ‚Äî wrong domain, wrong scale.</p>
      </div>
      </div>
<button @click.stop="mode='products';activeProduct='ions'" class="mt-3 w-full px-4 py-2.5 bg-gradient-to-r from-indigo to-teal hover:opacity-90 text-white rounded-lg text-sm font-semibold transition shadow-lg shadow-indigo/20">‚ñ∂ Try Interactive Demo</button>
  </div>

  <!-- Product 3: ChemGraph -->
  <div x-data="{open:false}" class="glass rounded-xl p-6 cursor-pointer transition" @click="open=!open">
    <div class="flex justify-between items-start mb-2">
      <span class="text-2xl">üï∏Ô∏è</span>
      <span class="text-[10px] font-semibold px-2 py-0.5 rounded-full text-white tier-next">Build Next</span>
    </div>
    <h3 class="font-semibold mb-1">ChemGraph</h3>
    <p class="text-xs text-gray-400 mb-2">"The chemical industry's knowledge graph. See what others can't."</p>
    <p x-show="!open" class="text-[10px] text-gray-500 italic mt-1">Click to expand ‚Üì</p>
    <div x-show="open" x-collapse class="mt-3 space-y-3 text-xs text-gray-400">
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">The Vision</p>
        <p class="text-white font-medium">The Bloomberg Terminal for specialty chemicals.</p>
        <p class="mt-1">A proprietary knowledge graph connecting 465+ manufacturers, 5,000+ customers, 20,000+ products, and every relationship between them. No competitor can replicate this ‚Äî it's built on real manufacturer audits, real transaction data, and real chemistry.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Phase 1: Internal Intelligence Engine (Now)</p>
        <ul class="list-disc list-inside space-y-1">
          <li><span class="text-white">BD lead gen:</span> "47 products have >70% China dependency ‚Äî India can make all of them" ‚Üí proactive outreach</li>
          <li><span class="text-white">Cross-sell:</span> "Customer X buys Molecule A. They likely need B ‚Äî Factory Y can make it"</li>
          <li><span class="text-white">Supply risk:</span> "Factory Z is our only source for 3 products. Here are backups."</li>
          <li><span class="text-white">Capacity matching:</span> "Factory W has idle hydrogenation + 3 orders need it" ‚Üí instant match</li>
          <li><span class="text-white">Pricing intelligence:</span> Network-wide cost benchmarking for negotiation</li>
        </ul>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Phase 2: Powers Other Products</p>
        <p>ChemGraph becomes the brain underneath everything ‚Äî "similar products" in ATOMS Commerce, "alternative suppliers" in ComplianceOS, risk scoring in China+1 reports. Every product gets smarter because the graph exists.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Phase 3: External Product (2,000+ manufacturers)</p>
        <p>Enterprise procurement subscriptions: $500-5,000/mo. Supply chain intelligence reports: $5-20K. Only viable at scale ‚Äî when the network is dense enough that buyers treat it as the source of truth for Indian specialty chemicals.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">The Moat</p>
        <p>Every transaction, every project, every audit makes the graph smarter. At 500 products, Scimplify owns a <span class="text-white">proprietary emission + capability + pricing database</span> for Indian specialty chemicals that doesn't exist anywhere else. The data compounds. Competitors start from zero.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">The Endgame</p>
        <p class="italic">"Specialty chemicals is a $600B+ market with zero dominant intelligence platform. Veeva built a $2B+ business being the OS for life sciences. ChemGraph is Scimplify's path to being that for chemicals."</p>
      </div>
      </div>
<button @click.stop="mode='products';activeProduct=3" class="mt-3 w-full px-4 py-2.5 bg-gradient-to-r from-indigo to-teal hover:opacity-90 text-white rounded-lg text-sm font-semibold transition shadow-lg shadow-indigo/20">‚ñ∂ Try Interactive Demo</button>
  </div>

  <!-- Product 4: ComplianceOS -->
  <div x-data="{open:false}" class="glass rounded-xl p-6 cursor-pointer transition" @click="open=!open">
    <div class="flex justify-between items-start mb-2">
      <span class="text-2xl">üõ°Ô∏è</span>
      <span class="text-[10px] font-semibold px-2 py-0.5 rounded-full text-white tier-next">Build Next</span>
    </div>
    <h3 class="font-semibold mb-1">ComplianceOS</h3>
    <p class="text-xs text-gray-400 mb-2">"Every certificate tracked. Every deadline met. Zero audit surprises."</p>
    <p x-show="!open" class="text-[10px] text-gray-500 italic mt-1">Click to expand ‚Üì</p>
    <div x-show="open" x-collapse class="mt-3 space-y-3 text-xs text-gray-400">
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">What It Does</p>
        <ul class="list-disc list-inside space-y-1">
          <li>Certificate vault + expiry tracking across all facilities</li>
          <li>SDS (Safety Data Sheet) generation from formulation data</li>
          <li>Regulatory change alerts (REACH, TSCA, FDA updates)</li>
          <li>Gap analysis during factory onboarding ‚Äî FREE gap analysis onboards supply, remediation management is PAID</li>
        </ul>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">ICP</p>
        <p>Chemical manufacturers needing compliance management. Buyers requiring supplier compliance documentation. Factories being onboarded to Scimplify network.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Value Created</p>
        <p>Zero missed certificate renewals (each missed cert = potential $50K+ shipment hold). Audit prep time reduced 80%. SDS generation in minutes vs hours. High supply-side stickiness.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Value Captured</p>
        <p>$300-800/mo per facility (cert management + alerts). $1,500-2,000/mo full suite (SDS + regulatory tracking). Gap analysis reports: $2-5K one-time during onboarding.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Industry Analogies</p>
        <p class="italic">"Resilinc's compliance tracking + Sphera's SDS/Product Stewardship + Cognilix Cortex's vendor management ‚Äî but purpose-built for Indian specialty chemical manufacturers, not Fortune 500s."</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">What We Take</p>
        <p><span class="text-white">From Resilinc:</span> Compliance tracking, gap analysis. <span class="text-white">From Sphera:</span> SDS automation, product stewardship. <span class="text-white">From Cognilix Cortex:</span> Self-serve supplier onboarding, performance analytics. <span class="text-white">What we skip:</span> Enterprise EHS, process safety, global news monitoring ‚Äî stay chemistry-specific, stay mid-market.</p>
      </div>
      </div>
<button @click.stop="mode='products';activeProduct='compliance'" class="mt-3 w-full px-4 py-2.5 bg-gradient-to-r from-indigo to-teal hover:opacity-90 text-white rounded-lg text-sm font-semibold transition shadow-lg shadow-indigo/20">‚ñ∂ Try Interactive Demo</button>
  </div>

  <!-- Product 5: ATOMS Commerce -->
  <div x-data="{open:false}" class="glass rounded-xl p-6 cursor-pointer transition" @click="open=!open">
    <div class="flex justify-between items-start mb-2">
      <span class="text-2xl">üõí</span>
      <span class="text-[10px] font-semibold px-2 py-0.5 rounded-full text-white tier-traction">Build on Traction</span>
    </div>
    <h3 class="font-semibold mb-1">ATOMS Commerce</h3>
    <p class="text-xs text-gray-400 mb-2">"Buy specialty chemicals like you buy everything else ‚Äî online."</p>
    <p x-show="!open" class="text-[10px] text-gray-500 italic mt-1">Click to expand ‚Üì</p>
    <div x-show="open" x-collapse class="mt-3 space-y-3 text-xs text-gray-400">
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">What It Does</p>
        <ul class="list-disc list-inside space-y-1">
          <li>E-commerce layer on ATOMS for catalog/near-commodity chemicals</li>
          <li>Real pricing displayed (actual ‚Çπ/kg, not "request a quote")</li>
          <li>Filters: CAS number, purity, certs, pack size, delivery location</li>
          <li>Instant quoting for standard products (zero humans involved)</li>
          <li>Order placement + payment (Razorpay India, Stripe international)</li>
          <li><span class="text-white font-medium">One-click bulk reordering</span> ‚Äî existing customers reorder their regular chemicals without email/calls</li>
          <li>"Similar products" / "Also bought" recommendations from ChemGraph</li>
        </ul>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">The Wedge: Bulk Reordering</p>
        <p>ATOMS today is purely discovery + RFQ. No transaction capability. The fastest path to commerce isn't new buyer acquisition ‚Äî it's <span class="text-white">converting existing repeat orders into self-serve reorders.</span> Customers already buying monthly don't need a sales call every time. One-click reorder frees the sales team for high-value custom projects.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">ICP</p>
        <p>Small-to-mid buyers (cosmetics brands, small pharma, food companies) buying 1-20 tons of catalog chemicals. <span class="text-white">Especially existing customers with recurring orders.</span></p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Value Created</p>
        <p>Pricing transparency and instant procurement (vs 3-5 day email-based quoting). Manufacturer gets new sales channel with zero listing fees. Order cycle compressed from days to minutes.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Value Captured</p>
        <p>Take-rate: 2-5% on GMV. No manufacturer subscription fees ‚Äî they pay only when they sell. Aligns incentives perfectly.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Key Caveat</p>
        <p>Revenue potential depends heavily on what % of current orders are catalog/repeat vs custom. If most volume is custom chemistry, ATOMS Commerce addresses a smaller slice. <span class="text-white">Needs validation: what share of the 5,000+ customer base has recurring standard orders?</span></p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Industry Analogy</p>
        <p class="italic">"Cognilix's Cognimart (Moglix's B2B eCommerce SaaS) + Knowde's catalog ‚Äî but vertical. Cognilix can tell you who sells sulfuric acid. ATOMS can tell you who has a glass-lined reactor with CGMP and Grignard experience at -20¬∞C."</p>
      </div>
      </div>
<button @click.stop="mode='products';activeProduct='atomscommerce'" class="mt-3 w-full px-4 py-2.5 bg-gradient-to-r from-indigo to-teal hover:opacity-90 text-white rounded-lg text-sm font-semibold transition shadow-lg shadow-indigo/20">‚ñ∂ Try Interactive Demo</button>
  </div>

  <!-- Product 6: GreenScore -->
  <div x-data="{open:false}" class="glass rounded-xl p-6 cursor-pointer transition" @click="open=!open">
    <div class="flex justify-between items-start mb-2">
      <span class="text-2xl">üå±</span>
      <span class="text-[10px] font-semibold px-2 py-0.5 rounded-full text-white tier-traction">Build on Traction</span>
    </div>
    <h3 class="font-semibold mb-1">GreenScore</h3>
    <p class="text-xs text-gray-400 mb-2">"Carbon footprint per molecule. The EU demands it, we deliver it."</p>
    <p x-show="!open" class="text-[10px] text-gray-500 italic mt-1">Click to expand ‚Üì</p>
    <div x-show="open" x-collapse class="mt-3 space-y-3 text-xs text-gray-400">
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">What It Does</p>
        <ul class="list-disc list-inside space-y-1">
          <li>Carbon footprint calculation per product per route</li>
          <li>Comparative analysis: "Route A: 45 kg CO‚ÇÇe/kg. Route B: 28 kg CO‚ÇÇe/kg."</li>
          <li>Exportable carbon certificate per order</li>
          <li>CBAM-compatible data format for EU imports</li>
          <li>Route comparison shows not just cost savings but environmental impact</li>
        </ul>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">ICP</p>
        <p>EU importers facing CBAM compliance (mandatory from 2026+). ESG-conscious buyers. Companies with sustainability reporting requirements.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Value Created</p>
        <p>CBAM compliance documentation automated (otherwise $10-50K in consultant fees per product). Carbon optimization as competitive differentiator. EU market access preserved.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Value Captured</p>
        <p>Bundled free with China+1 Switch projects (part of CBAM value prop). Standalone subscription: $200-500/mo after CBAM enforcement (2027+). Lightest build ‚Äî highest regulatory tailwind.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Industry Analogy</p>
        <p class="italic">"Sphera's LCA Automation for Chemical Manufacturing ‚Äî simplified. Sphera sells full enterprise LCA at $100K+/yr to BASF. GreenScore embeds product-level carbon scoring directly into ATOMS listings for mid-market buyers. Same science, radically different delivery."</p>
      </div>
      </div>
<button @click.stop="mode='products';activeProduct='green'" class="mt-3 w-full px-4 py-2.5 bg-gradient-to-r from-indigo to-teal hover:opacity-90 text-white rounded-lg text-sm font-semibold transition shadow-lg shadow-indigo/20">‚ñ∂ Try Interactive Demo</button>
  </div>

  <!-- Product 1: RFQ Intelligence (Build on Traction) -->
  <div x-data="{open:false}" class="glass rounded-xl p-6 cursor-pointer transition" @click="open=!open">
    <div class="flex justify-between items-start mb-2">
      <span class="text-2xl">üéØ</span>
      <span class="text-[10px] font-semibold px-2 py-0.5 rounded-full text-white tier-traction">Build on Traction</span>
    </div>
    <h3 class="font-semibold mb-1">RFQ Intelligence + China+1 Assessment</h3>
    <p class="text-xs text-gray-400 mb-2">"From RFQ to qualified manufacturer in 48 hours, not 4 weeks"</p>
    <p x-show="!open" class="text-[10px] text-gray-500 italic mt-1">Click to expand ‚Üì</p>
    <div x-show="open" x-collapse class="mt-3 space-y-3 text-xs text-gray-400">
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">What It Does</p>
        <ul class="list-disc list-inside space-y-1">
          <li>Customer submits RFQ or "switch from China" request</li>
          <li>Auto-matches against 3C framework (Chemistry fit, Capacity match, Compliance alignment) using ATOMS data from 465+ manufacturers</li>
          <li>Generates feasibility report: matched manufacturers, estimated cost, timeline, risk flags</li>
          <li>For China+1: adds comparison vs current China source (cost, lead time, CBAM impact, tariff savings)</li>
          <li>Routes qualified leads into IONS for project execution</li>
        </ul>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">ICP</p>
        <p>Global procurement managers sourcing from India. EU buyers facing CBAM. Companies doing China+1 diversification.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Value Created</p>
        <p>Time-to-qualified-source drops from 4-6 weeks to 48 hours. Data-driven manufacturer matching vs relationship-based guesswork. CBAM impact quantified before commitment.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Value Captured</p>
        <p>Primarily an internal ops accelerator ‚Äî makes Scimplify's sales team faster. China+1 Assessment Reports: $2-5K standalone (productized consulting). Subscription model viable only at 2,000+ manufacturers with real-time data. Near-term value: feeds $50-100K China+1 service projects.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Why Build on Traction</p>
        <p>ATOMS already handles RFQ intake manually. This automates it ‚Äî high internal value but limited external willingness-to-pay until network density justifies a subscription model. Build after ATOMS Commerce proves transaction volume.</p>
      </div>
      <div>
        <p class="text-indigo-400 font-semibold text-sm mb-1">Industry Analogy</p>
        <p class="italic">"Like Resilinc's supply chain intelligence meets Alibaba's supplier matching ‚Äî but for specialty chemicals with chemistry-level matching, not just keyword search"</p>
      </div>
      </div>
<button @click.stop="mode='products';activeProduct=1" class="mt-3 w-full px-4 py-2.5 bg-gradient-to-r from-indigo to-teal hover:opacity-90 text-white rounded-lg text-sm font-semibold transition shadow-lg shadow-indigo/20">‚ñ∂ Try Interactive Demo</button>
  </div>

</div>
</section>

<!-- Interactive Revenue & Roadmap -->
<section class="max-w-6xl mx-auto px-4 pb-16" x-data="revenueModel()" x-init="recalc()">
<h2 class="text-2xl font-bold mb-2 text-center">Interactive Revenue & Roadmap</h2>
<p class="text-xs text-gray-500 text-center mb-6">Adjust assumptions per product. Drag timeline. Watch revenue update in real-time.</p>

<!-- Product Assumptions Table -->
<div class="glass rounded-xl p-5 mb-6 overflow-x-auto">
  <div class="min-w-[700px]">
    <div class="grid grid-cols-12 gap-2 text-[10px] text-gray-500 font-medium mb-3 px-1">
      <div class="col-span-2">Product</div>
      <div class="col-span-2 text-center">Start Month</div>
      <div class="col-span-2 text-center">Build Duration</div>
      <div class="col-span-2 text-center">Key Assumption</div>
      <div class="col-span-2 text-center">Monthly Rev (M12)</div>
      <div class="col-span-2 text-center">Monthly Rev (M24)</div>
    </div>
    <template x-for="p in products" :key="p.id">
      <div class="grid grid-cols-12 gap-2 items-center mb-3 glass rounded-lg p-2" :class="p.enabled?'':'opacity-40'">
        <!-- Name + Toggle -->
        <div class="col-span-2 flex items-center gap-2">
          <input type="checkbox" x-model="p.enabled" @change="recalc()" class="accent-indigo w-3.5 h-3.5 shrink-0">
          <div>
            <div class="text-xs font-medium" x-text="p.icon+' '+p.shortName"></div>
            <div class="text-[9px] text-gray-500" x-text="p.tier"></div>
          </div>
        </div>
        <!-- Start Month -->
        <div class="col-span-2 text-center">
          <div class="flex items-center justify-center gap-1">
            <button @click="p.startMonth=Math.max(1,p.startMonth-1);recalc()" class="w-5 h-5 rounded bg-white/5 hover:bg-white/10 text-gray-400 text-xs transition">‚àí</button>
            <span class="text-sm font-medium w-8 text-center" x-text="'M'+p.startMonth"></span>
            <button @click="p.startMonth=Math.min(18,p.startMonth+1);recalc()" class="w-5 h-5 rounded bg-white/5 hover:bg-white/10 text-gray-400 text-xs transition">+</button>
          </div>
        </div>
        <!-- Duration -->
        <div class="col-span-2 text-center">
          <div class="flex items-center justify-center gap-1">
            <button @click="p.duration=Math.max(2,p.duration-1);recalc()" class="w-5 h-5 rounded bg-white/5 hover:bg-white/10 text-gray-400 text-xs transition">‚àí</button>
            <span class="text-sm font-medium w-10 text-center" x-text="p.duration+' mo'"></span>
            <button @click="p.duration=Math.min(12,p.duration+1);recalc()" class="w-5 h-5 rounded bg-white/5 hover:bg-white/10 text-gray-400 text-xs transition">+</button>
          </div>
        </div>
        <!-- Key Assumption (slider) -->
        <div class="col-span-2 px-1">
          <input type="range" :min="p.assumptionMin" :max="p.assumptionMax" :step="p.assumptionStep" x-model.number="p.assumption" @input="recalc()" class="w-full h-1 accent-indigo">
          <div class="text-[10px] text-gray-400 text-center mt-0.5" x-text="p.assumptionLabel+': '+p.assumption+p.assumptionUnit"></div>
        </div>
        <!-- M12 Revenue -->
        <div class="col-span-2 text-center">
          <div class="text-sm font-semibold" :class="p.rev12>0?'text-indigo':'text-gray-600'" x-text="p.rev12>0?'‚Çπ'+formatLakhs(p.rev12):'‚Äî'"></div>
        </div>
        <!-- M24 Revenue -->
        <div class="col-span-2 text-center">
          <div class="text-sm font-semibold" :class="p.rev24>0?'text-teal':'text-gray-600'" x-text="p.rev24>0?'‚Çπ'+formatLakhs(p.rev24):'‚Äî'"></div>
        </div>
      </div>
    </template>
  </div>
</div>

<!-- Interactive Gantt -->
<div class="glass rounded-xl p-5 mb-6">
  <h3 class="text-sm font-semibold mb-4">Timeline <span class="text-[10px] text-gray-500 font-normal ml-2">Use +/- buttons above to adjust start & duration</span></h3>
  <div class="overflow-x-auto">
    <div class="min-w-[600px]">
      <div class="flex text-[10px] text-gray-500 mb-3">
        <div class="w-32 shrink-0"></div>
        <div class="flex-1 grid grid-cols-6 text-center">
          <span>M1-3</span><span>M4-6</span><span>M7-9</span><span>M10-12</span><span>M13-15</span><span>M16-18</span>
        </div>
      </div>
      <template x-for="p in products.filter(p=>p.enabled)" :key="p.id">
        <div class="flex items-center mb-2">
          <div class="w-32 shrink-0 text-[11px] font-medium truncate" x-text="p.icon+' '+p.shortName"></div>
          <div class="flex-1 relative h-7">
            <!-- Background grid -->
            <div class="absolute inset-0 grid grid-cols-6">
              <template x-for="i in 6"><div class="border-r border-white/5"></div></template>
            </div>
            <!-- Bar -->
            <div class="gantt-bar absolute top-1 flex items-center px-2" :class="p.color" :style="'left:'+((p.startMonth-1)/18*100)+'%;width:'+(p.duration/18*100)+'%'">
              <span class="text-[9px] text-white/80 truncate" x-text="'M'+p.startMonth+'-M'+(p.startMonth+p.duration-1)"></span>
            </div>
            <!-- Revenue start marker -->
            <div x-show="p.enabled && (p.startMonth+p.duration-1)<=18" class="absolute top-0 w-0.5 h-7 bg-teal/50" :style="'left:'+((p.startMonth+p.duration-1)/18*100)+'%'"></div>
          </div>
        </div>
      </template>
      <!-- Legend -->
      <div class="flex gap-4 mt-3 text-[10px] text-gray-500">
        <span class="flex items-center gap-1"><span class="w-3 h-3 rounded tier-must inline-block"></span> Must Build</span>
        <span class="flex items-center gap-1"><span class="w-3 h-3 rounded tier-next inline-block"></span> Build Next</span>
        <span class="flex items-center gap-1"><span class="w-3 h-3 rounded tier-traction inline-block"></span> Build on Traction</span>
        <span class="flex items-center gap-1"><span class="w-1 h-3 bg-teal/50 inline-block"></span> Revenue starts</span>
      </div>
    </div>
  </div>
</div>

<!-- Revenue Summary Cards -->
<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
  <div class="glass rounded-xl p-4 text-center">
    <div class="text-xs text-gray-400 mb-1">Month 6 ARR</div>
    <div class="text-xl font-bold text-indigo" x-text="'‚Çπ'+formatLakhs(totalRev6*12)"></div>
    <div class="text-[10px] text-gray-500" x-text="'‚Çπ'+formatLakhs(totalRev6)+'/mo'"></div>
  </div>
  <div class="glass rounded-xl p-4 text-center">
    <div class="text-xs text-gray-400 mb-1">Month 12 ARR</div>
    <div class="text-xl font-bold text-indigo" x-text="'‚Çπ'+formatLakhs(totalRev12*12)"></div>
    <div class="text-[10px] text-gray-500" x-text="'‚Çπ'+formatLakhs(totalRev12)+'/mo'"></div>
  </div>
  <div class="glass rounded-xl p-4 text-center">
    <div class="text-xs text-gray-400 mb-1">Month 24 ARR</div>
    <div class="text-2xl font-bold bg-gradient-to-r from-indigo to-teal bg-clip-text text-transparent" x-text="'‚Çπ'+formatLakhs(totalRev24*12)"></div>
    <div class="text-[10px] text-gray-500" x-text="'‚Çπ'+formatLakhs(totalRev24)+'/mo'"></div>
  </div>
  <div class="glass rounded-xl p-4 text-center">
    <div class="text-xs text-gray-400 mb-1">Total Investment</div>
    <div class="text-xl font-bold bg-gradient-to-r from-indigo to-teal bg-clip-text text-transparent" x-text="'‚Çπ'+formatLakhs(totalInvestment)"></div>
    <div class="text-[10px] text-gray-500" x-text="enabledCount+' products'"></div>
  </div>
</div>

<!-- Per-Product Revenue Breakdown -->
<div class="glass rounded-xl p-5 mb-6">
  <h3 class="text-sm font-semibold mb-3">Revenue Breakdown by Product</h3>
  <div class="space-y-2">
    <template x-for="p in products.filter(p=>p.enabled)" :key="p.id">
      <div class="flex items-center gap-3">
        <div class="w-28 shrink-0 text-[11px] font-medium truncate" x-text="p.icon+' '+p.shortName"></div>
        <div class="flex-1 relative h-5 bg-white/5 rounded-full overflow-hidden">
          <div class="h-full rounded-full transition-all duration-500" :class="p.color" :style="'width:'+Math.min(100,(p.rev24/Math.max(1,maxRev24))*100)+'%'"></div>
        </div>
        <div class="w-20 text-right text-xs font-medium" x-text="p.rev24>0?'‚Çπ'+formatLakhs(p.rev24)+'/mo':'‚Äî'"></div>
      </div>
    </template>
  </div>
</div>

<!-- Revenue Model Explanation -->
<div class="glass rounded-xl p-5">
  <h3 class="text-sm font-semibold mb-3">Assumption Details</h3>
  <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-3">
    <template x-for="p in products" :key="p.id">
      <div class="glass rounded-lg p-3 text-[11px]" :class="p.enabled?'':'opacity-30'">
        <div class="font-medium text-xs mb-1" x-text="p.icon+' '+p.shortName"></div>
        <div class="text-gray-400" x-text="p.revenueLogic"></div>
      </div>
    </template>
  </div>
</div>

</section>

<!-- Closing -->
<section class="max-w-4xl mx-auto px-4 pb-20 text-center">
<blockquote class="text-2xl md:text-3xl font-bold italic leading-relaxed">
  "The chemicals make money <span class="text-teal">today</span>.<br>The software makes money <span class="text-indigo">forever</span>."
</blockquote>
</section>

</div><!-- end roadmap -->

<!-- ==================== PRODUCTS MODE ==================== -->
<div x-show="mode==='products'" x-cloak class="flex min-h-[calc(100vh-56px)]">

<!-- Sidebar -->
<aside class="w-56 shrink-0 border-r border-white/8 bg-white/[0.02] hidden md:block">
  <div class="p-3">
    <template x-for="p in products" :key="p.id">
      <button @click="activeProduct=p.id" :class="activeProduct===p.id?'bg-indigo/20 text-indigo border-indigo/30':'text-gray-400 hover:text-white hover:bg-white/5 border-transparent'" class="w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium mb-1 border transition text-left">
        <span x-text="p.icon"></span>
        <span class="truncate" x-text="p.shortName||p.name"></span>
      </button>
    </template>
  </div>
</aside>

<!-- Mobile product selector -->
<div class="md:hidden fixed bottom-0 left-0 right-0 z-40 glass border-t border-white/10 flex overflow-x-auto px-2 py-2 gap-1" style="background:rgba(15,13,46,0.95)">
  <template x-for="p in products" :key="p.id">
    <button @click="activeProduct=p.id" :class="activeProduct===p.id?'bg-indigo text-white':'text-gray-400'" class="shrink-0 px-3 py-1.5 rounded-lg text-xs font-medium transition" x-text="p.icon+' '+p.shortName"></button>
  </template>
</div>

<!-- Main Content Area -->
<main class="flex-1 overflow-y-auto p-4 md:p-6 pb-20 md:pb-6">

<!-- ====== PRODUCT 1: RFQ Intelligence ====== -->
<div x-show="activeProduct===1" x-cloak class="fade-in max-w-4xl" x-data="rfqApp()">
<h2 class="text-xl font-bold mb-4">üîç RFQ Intelligence + China+1</h2>

<div x-show="!showResults">
<div class="glass rounded-xl p-6">
  <h3 class="font-semibold mb-4">Submit RFQ</h3>
  <div class="grid md:grid-cols-2 gap-4">
    <div><label class="text-xs text-gray-400 block mb-1">Compound Name</label><input x-model="form.compound" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm focus:border-indigo outline-none" placeholder="e.g. Pymetrozine"></div>
    <div><label class="text-xs text-gray-400 block mb-1">CAS Number</label><input x-model="form.cas" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm focus:border-indigo outline-none" placeholder="e.g. 123456-78-9"></div>
    <div><label class="text-xs text-gray-400 block mb-1">Quantity (kg)</label><input x-model="form.qty" type="number" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm focus:border-indigo outline-none" placeholder="500"></div>
    <div><label class="text-xs text-gray-400 block mb-1">Required Purity %</label><input x-model="form.purity" type="number" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm focus:border-indigo outline-none" placeholder="99"></div>
    <div class="md:col-span-2">
      <label class="text-xs text-gray-400 block mb-1">Compliance Needs</label>
      <div class="flex flex-wrap gap-2">
        <template x-for="c in ['FDA','GMP','CGMP','ISO','REACH','HALAL']">
          <button @click="toggleCert(c)" :class="form.certs.includes(c)?'bg-indigo text-white':'bg-white/5 text-gray-400'" class="px-3 py-1 rounded-lg text-xs font-medium border border-white/10 transition" x-text="c"></button>
        </template>
      </div>
    </div>
    <div><label class="text-xs text-gray-400 block mb-1">Delivery Timeline</label>
      <select x-model="form.timeline" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm focus:border-indigo outline-none">
        <option value="1">1 Month</option><option value="3">3 Months</option><option value="6">6 Months</option>
      </select>
    </div>
    <div class="flex items-end">
      <label class="flex items-center gap-2 cursor-pointer">
        <input type="checkbox" x-model="form.china1" class="accent-indigo w-4 h-4">
        <span class="text-sm">China+1 Switch?</span>
      </label>
    </div>
  </div>
  <div x-show="form.china1" class="grid md:grid-cols-3 gap-4 mt-4 pt-4 border-t border-white/10">
    <div><label class="text-xs text-gray-400 block mb-1">Current China Supplier</label><input x-model="form.chinaSupplier" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm focus:border-indigo outline-none" placeholder="Supplier name"></div>
    <div><label class="text-xs text-gray-400 block mb-1">Current Price/kg ($)</label><input x-model="form.chinaPrice" type="number" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm focus:border-indigo outline-none" placeholder="45"></div>
    <div><label class="text-xs text-gray-400 block mb-1">Current Lead Time (weeks)</label><input x-model="form.chinaLead" type="number" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm focus:border-indigo outline-none" placeholder="8"></div>
  </div>
  <button @click="submitRFQ()" class="mt-6 bg-indigo hover:bg-indigo/80 text-white px-6 py-2 rounded-lg text-sm font-medium transition">Submit RFQ ‚Üí</button>
</div>
</div>

<!-- Matching Animation -->
<div x-show="matching" x-cloak class="flex flex-col items-center justify-center py-20">
  <div class="w-16 h-16 rounded-full bg-indigo/20 matching-anim flex items-center justify-center mb-4"><span class="text-2xl">üîç</span></div>
  <div class="text-lg font-semibold">Matching manufacturers...</div>
  <div class="text-sm text-gray-400 mt-1">Analyzing 465 facilities across 11 industries</div>
</div>

<!-- Results -->
<div x-show="showResults && !matching" x-cloak class="fade-in space-y-4">
  <div class="flex justify-between items-center">
    <h3 class="font-semibold">Feasibility Report</h3>
    <button @click="showResults=false;matching=false" class="text-xs text-gray-400 hover:text-white">‚Üê New RFQ</button>
  </div>
  <div class="grid gap-3">
    <template x-for="(m,i) in matchResults" :key="i">
      <div class="glass rounded-xl p-4">
        <div class="flex justify-between items-start mb-3">
          <div>
            <div class="font-semibold text-sm" x-text="m.name"></div>
            <div class="text-xs text-gray-400" x-text="m.location"></div>
          </div>
          <div class="text-right">
            <div class="text-lg font-bold" :class="m.overall>85?'text-teal':m.overall>70?'text-indigo':'text-amber'" x-text="m.overall+'%'"></div>
            <div class="text-[10px] text-gray-500">Overall Match</div>
          </div>
        </div>
        <div class="grid grid-cols-3 gap-3 mb-3">
          <div><div class="text-[10px] text-gray-500 mb-1">Capacity</div><div class="w-full bg-white/5 rounded-full h-1.5"><div class="score-bar bg-indigo rounded-full" :style="'width:'+m.capacity+'%'"></div></div><div class="text-[10px] text-gray-400 mt-0.5" x-text="m.capacity+'%'"></div></div>
          <div><div class="text-[10px] text-gray-500 mb-1">Chemistry</div><div class="w-full bg-white/5 rounded-full h-1.5"><div class="score-bar bg-teal rounded-full" :style="'width:'+m.chemistry+'%'"></div></div><div class="text-[10px] text-gray-400 mt-0.5" x-text="m.chemistry+'%'"></div></div>
          <div><div class="text-[10px] text-gray-500 mb-1">Compliance</div><div class="w-full bg-white/5 rounded-full h-1.5"><div class="score-bar bg-amber rounded-full" :style="'width:'+m.compliance+'%'"></div></div><div class="text-[10px] text-gray-400 mt-0.5" x-text="m.compliance+'%'"></div></div>
        </div>
        <div class="flex flex-wrap gap-1">
          <template x-for="c in m.certs"><span class="text-[10px] px-1.5 py-0.5 rounded bg-white/5 text-gray-400" x-text="c"></span></template>
        </div>
      </div>
    </template>
  </div>
  <div class="glass rounded-xl p-4">
    <div class="text-sm font-medium mb-2">Estimated Cost & Timeline</div>
    <div class="grid grid-cols-3 gap-4 text-center text-sm">
      <div><div class="text-gray-400 text-xs">Cost Range</div><div class="font-semibold">$38 ‚Äî $52/kg</div></div>
      <div><div class="text-gray-400 text-xs">Delivery</div><div class="font-semibold" x-text="form.timeline+' month(s)'"></div></div>
      <div><div class="text-gray-400 text-xs">Risk Level</div><div class="font-semibold text-teal">Low</div></div>
    </div>
  </div>
  <!-- China+1 comparison -->
  <div x-show="form.china1" class="glass rounded-xl p-4">
    <div class="text-sm font-medium mb-3">üá®üá≥ ‚Üí üáÆüá≥ China+1 Comparison</div>
    <table class="w-full text-sm">
      <thead><tr class="text-xs text-gray-500"><th class="text-left pb-2">Factor</th><th class="text-center pb-2">China</th><th class="text-center pb-2">India</th><th class="text-center pb-2">Savings</th></tr></thead>
      <tbody>
        <tr class="border-t border-white/5"><td class="py-2 text-gray-400">Price/kg</td><td class="text-center" x-text="'$'+(form.chinaPrice||45)"></td><td class="text-center text-teal">$38-42</td><td class="text-center text-teal">~12%</td></tr>
        <tr class="border-t border-white/5"><td class="py-2 text-gray-400">Lead Time</td><td class="text-center" x-text="(form.chinaLead||8)+' weeks'"></td><td class="text-center text-teal">4-5 weeks</td><td class="text-center text-teal">~40%</td></tr>
        <tr class="border-t border-white/5"><td class="py-2 text-gray-400">CBAM Impact</td><td class="text-center text-red-400">‚Ç¨8.2/ton CO‚ÇÇ</td><td class="text-center text-teal">‚Ç¨3.1/ton CO‚ÇÇ</td><td class="text-center text-teal">‚Ç¨5.1/ton</td></tr>
        <tr class="border-t border-white/5"><td class="py-2 text-gray-400">Tariff Risk</td><td class="text-center text-amber">High</td><td class="text-center text-teal">Low</td><td class="text-center text-teal">‚úì</td></tr>
      </tbody>
    </table>
  </div>
</div>
</div>

<!-- ====== PRODUCT 2: IONS Project Hub ====== -->
<div x-show="activeProduct===2" x-cloak class="fade-in max-w-4xl" x-data="ionsApp()">
<h2 class="text-xl font-bold mb-4">üìã IONS Project Hub</h2>

<!-- ‚îÄ‚îÄ Projects List View ‚îÄ‚îÄ -->
<div x-show="!selectedProject && !showNewProject && !showCreateForm">

  <!-- Analytics Dashboard -->
  <div class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-4">
    <div class="glass rounded-xl p-4 text-center"><div class="text-2xl font-bold text-indigo" x-text="ionsProjects.length"></div><div class="text-[10px] text-gray-400">Active Projects</div></div>
    <div class="glass rounded-xl p-4 text-center"><div class="text-2xl font-bold text-teal" x-text="avgCompletion+'%'"></div><div class="text-[10px] text-gray-400">Avg Completion</div></div>
    <div class="glass rounded-xl p-4 text-center"><div class="text-2xl font-bold text-amber" x-text="pendingSamples"></div><div class="text-[10px] text-gray-400">Samples Pending</div></div>
    <div class="glass rounded-xl p-4 text-center"><div class="text-lg font-bold"><span class="text-teal" x-text="onTrack"></span><span class="text-gray-500">/</span><span class="text-red-400" x-text="delayed"></span></div><div class="text-[10px] text-gray-400">On-Track / Delayed</div></div>
  </div>

  <!-- Scientist Workload -->
  <div class="glass rounded-xl p-3 mb-4 flex flex-wrap gap-4 items-center">
    <div class="text-[10px] text-gray-500 font-medium uppercase tracking-wider">Scientist Workload</div>
    <template x-for="sc in scientists" :key="sc.name">
      <div class="flex items-center gap-2 text-xs">
        <div class="w-6 h-6 rounded-full bg-indigo/20 text-indigo flex items-center justify-center text-[10px] font-bold" x-text="sc.name.split(' ')[0].charAt(0)+sc.name.split(' ')[1].charAt(0)"></div>
        <span x-text="sc.name"></span>
        <span class="text-gray-500" x-text="sc.count+' projects'"></span>
        <div class="w-16 bg-white/5 rounded-full h-1.5"><div class="h-1.5 rounded-full bg-indigo" :style="'width:'+Math.min(sc.count*10,100)+'%'"></div></div>
      </div>
    </template>
  </div>

  <div class="flex justify-between items-center mb-4">
    <span class="text-sm text-gray-400"><span x-text="ionsProjects.length"></span> Active Projects</span>
    <button @click="showNewProject=true" class="bg-indigo hover:bg-indigo/80 text-white px-4 py-1.5 rounded-lg text-xs font-medium transition">+ New Project</button>
  </div>
  <div class="grid md:grid-cols-2 gap-4">
    <template x-for="p in ionsProjects" :key="p.id">
      <div @click="selectedProject=p;detailTab='milestones'" class="glass rounded-xl p-5 cursor-pointer glass-hover transition">
        <div class="flex justify-between items-start mb-3">
          <h3 class="font-semibold text-sm" x-text="p.name"></h3>
          <span class="text-[10px] px-2 py-0.5 rounded-full font-medium" :class="p.complete===100?'bg-teal/20 text-teal':'bg-indigo/20 text-indigo'" x-text="p.stage"></span>
        </div>
        <div class="w-full bg-white/5 rounded-full h-2 mb-2"><div class="h-2 rounded-full transition-all" :class="p.complete===100?'bg-teal':'bg-indigo'" :style="'width:'+p.complete+'%'"></div></div>
        <div class="flex justify-between text-xs text-gray-400">
          <span x-text="p.complete+'% complete'"></span>
          <span x-text="p.scientist"></span>
        </div>
      </div>
    </template>
  </div>
</div>

<!-- ‚îÄ‚îÄ New Project: Template Selector ‚îÄ‚îÄ -->
<div x-show="showNewProject" x-cloak class="fade-in">
  <button @click="showNewProject=false" class="text-xs text-gray-400 hover:text-white mb-4">‚Üê Back</button>
  <h3 class="font-semibold mb-4">Select Project Template</h3>
  <div class="grid md:grid-cols-3 gap-4">
    <template x-for="t in templates" :key="t.name">
      <div @click="selectTemplate(t)" class="glass rounded-xl p-5 cursor-pointer glass-hover transition text-center">
        <div class="text-2xl mb-2" x-text="t.icon"></div>
        <div class="text-sm font-medium" x-text="t.name"></div>
        <div class="text-[10px] text-gray-500 mt-1" x-text="t.desc"></div>
      </div>
    </template>
  </div>
</div>

<!-- ‚îÄ‚îÄ New Project: Creation Form ‚îÄ‚îÄ -->
<div x-show="showCreateForm" x-cloak class="fade-in">
  <button @click="showCreateForm=false;showNewProject=true" class="text-xs text-gray-400 hover:text-white mb-4">‚Üê Back to Templates</button>
  <div class="glass rounded-xl p-6">
    <h3 class="font-semibold text-sm mb-1">New Project: <span x-text="newProject.template" class="text-indigo"></span></h3>
    <div class="text-[10px] text-gray-500 mb-4" x-text="newProject.templateIcon+' '+newProject.templateDesc"></div>
    <div class="grid md:grid-cols-2 gap-4">
      <div><label class="text-xs text-gray-400 block mb-1">Molecule Name</label><input x-model="newProject.molecule" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm outline-none focus:border-indigo" placeholder="e.g. Ibuprofen"></div>
      <div><label class="text-xs text-gray-400 block mb-1">Target Purity (%)</label><input x-model="newProject.purity" type="number" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm outline-none focus:border-indigo" placeholder="99.5"></div>
      <div><label class="text-xs text-gray-400 block mb-1">Volume (MT)</label><input x-model="newProject.volume" type="number" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm outline-none focus:border-indigo" placeholder="50"></div>
      <div><label class="text-xs text-gray-400 block mb-1">Timeline (months)</label><input x-model="newProject.timeline" type="number" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm outline-none focus:border-indigo" placeholder="6"></div>
    </div>
    <button @click="createProject()" class="mt-4 bg-indigo hover:bg-indigo/80 text-white px-6 py-2 rounded-lg text-sm font-medium transition" :disabled="!newProject.molecule" :class="!newProject.molecule?'opacity-40':''">Create Project ‚Üí</button>
  </div>
</div>

<!-- ‚îÄ‚îÄ Project Detail ‚îÄ‚îÄ -->
<div x-show="selectedProject" x-cloak class="fade-in">
  <button @click="selectedProject=null" class="text-xs text-gray-400 hover:text-white mb-4">‚Üê Back to Projects</button>
  <template x-if="selectedProject">
  <div>
    <div class="flex justify-between items-start mb-1">
      <h3 class="font-semibold" x-text="selectedProject.name"></h3>
      <span class="text-[10px] text-gray-500" x-text="'Lead: '+selectedProject.scientist"></span>
    </div>
    <div class="text-xs text-gray-400 mb-4" x-text="selectedProject.stage+' ‚Äî '+selectedProject.complete+'%'"></div>

    <!-- Detail Tabs -->
    <div class="flex gap-1 bg-white/5 rounded-lg p-0.5 mb-4 w-fit flex-wrap">
      <template x-for="tab in ['milestones','samples','activity','documents','iterations']" :key="tab">
        <button @click="detailTab=tab" :class="detailTab===tab?'bg-indigo text-white':'text-gray-400'" class="px-3 py-1 rounded-md text-xs font-medium transition capitalize" x-text="tab"></button>
      </template>
    </div>

    <!-- Milestones Tab -->
    <div x-show="detailTab==='milestones'" class="glass rounded-xl p-5 mb-4 overflow-x-auto">
      <div class="text-xs font-medium text-gray-400 mb-3">Milestones</div>
      <div class="flex gap-0 min-w-[500px]">
        <template x-for="(ms,i) in selectedProject.milestones" :key="i">
          <div class="flex-1 flex flex-col items-center relative">
            <div class="w-7 h-7 rounded-full flex items-center justify-center text-xs font-bold z-10" :class="ms.status==='done'?'bg-teal text-white':ms.status==='active'?'bg-indigo text-white matching-anim':'bg-white/10 text-gray-500'" x-text="ms.status==='done'?'‚úì':(i+1)"></div>
            <div class="text-[10px] mt-1 text-center" :class="ms.status==='done'?'text-teal':ms.status==='active'?'text-indigo':'text-gray-500'" x-text="ms.name"></div>
            <div class="text-[9px] text-gray-600" x-text="ms.date"></div>
            <div x-show="i<selectedProject.milestones.length-1" class="absolute top-3.5 left-[calc(50%+14px)] h-0.5 right-[-50%]" :class="ms.status==='done'?'bg-teal':'bg-white/10'"></div>
          </div>
        </template>
      </div>
    </div>

    <!-- Samples Tab -->
    <div x-show="detailTab==='samples'" class="glass rounded-xl p-5 mb-4">
      <div class="text-xs font-medium text-gray-400 mb-3">Sample Tracking</div>
      <table class="w-full text-xs">
        <thead><tr class="text-gray-500"><th class="text-left pb-2">Sample</th><th class="text-left pb-2">Sent</th><th class="text-left pb-2">Status</th><th class="text-right pb-2">Actions</th></tr></thead>
        <tbody>
          <template x-for="s in selectedProject.samples" :key="s.id">
            <tr class="border-t border-white/5 transition-all" :class="s.flash||''">
              <td class="py-2" x-text="s.id"></td>
              <td class="text-gray-400" x-text="s.sent"></td>
              <td><span class="px-1.5 py-0.5 rounded text-[10px] transition-all" :class="s.status==='Approved'?'bg-teal/20 text-teal':s.status==='Pending'?'bg-amber/20 text-amber':s.status==='Revision Requested'?'bg-indigo/20 text-indigo':'bg-red-500/20 text-red-400'" x-text="s.status"></span></td>
              <td class="text-right">
                <template x-if="s.status==='Pending'">
                  <div class="flex gap-1 justify-end">
                    <button @click="sampleAction(s,'Approved')" class="px-2 py-0.5 rounded text-[10px] bg-teal/20 text-teal hover:bg-teal/40 transition">‚úì Approve</button>
                    <button @click="sampleAction(s,'Rejected')" class="px-2 py-0.5 rounded text-[10px] bg-red-500/20 text-red-400 hover:bg-red-500/40 transition">‚úó Reject</button>
                    <button @click="sampleAction(s,'Revision Requested')" class="px-2 py-0.5 rounded text-[10px] bg-indigo/20 text-indigo hover:bg-indigo/40 transition">‚Ü∫ Revise</button>
                  </div>
                </template>
              </td>
            </tr>
          </template>
        </tbody>
      </table>
    </div>

    <!-- Activity Timeline Tab -->
    <div x-show="detailTab==='activity'" class="glass rounded-xl p-5 mb-4">
      <div class="text-xs font-medium text-gray-400 mb-3">Activity Timeline</div>
      <div class="relative pl-4 border-l border-white/10 space-y-3">
        <template x-for="(ev,i) in selectedProject.activity" :key="i">
          <div class="relative">
            <div class="absolute -left-[21px] top-1 w-2.5 h-2.5 rounded-full" :class="ev.type==='shipped'?'bg-indigo':ev.type==='received'?'bg-teal':ev.type==='rejected'?'bg-red-400':ev.type==='approved'?'bg-teal':'bg-amber'"></div>
            <div class="text-[10px] text-gray-500" x-text="ev.date"></div>
            <div class="text-xs" x-text="ev.text"></div>
          </div>
        </template>
      </div>
    </div>

    <!-- Documents Tab -->
    <div x-show="detailTab==='documents'" class="glass rounded-xl p-5 mb-4">
      <div class="text-xs font-medium text-gray-400 mb-3">Project Documents</div>
      <div class="space-y-2">
        <template x-for="doc in selectedProject.documents" :key="doc.name">
          <div class="flex items-center gap-3 p-2 rounded-lg bg-white/[0.02] hover:bg-white/[0.05] transition">
            <div class="text-lg" x-text="doc.icon"></div>
            <div class="flex-1">
              <div class="text-xs font-medium" x-text="doc.name"></div>
              <div class="text-[10px] text-gray-500" x-text="doc.size+' ‚Ä¢ '+doc.date"></div>
            </div>
            <span class="text-[10px] px-2 py-0.5 rounded bg-white/5 text-gray-400" x-text="doc.type"></span>
          </div>
        </template>
      </div>
      <button class="mt-3 text-xs text-indigo hover:text-indigo/80 transition">+ Upload Document (simulated)</button>
    </div>

    <!-- Iterations Tab -->
    <div x-show="detailTab==='iterations'" class="glass rounded-xl p-5">
      <div class="text-xs font-medium text-gray-400 mb-3">Iteration History</div>
      <template x-for="it in selectedProject.iterations" :key="it">
        <div class="text-xs py-1 border-b border-white/5 last:border-0" x-text="it"></div>
      </template>
    </div>
  </div>
  </template>
</div>
</div>

<!-- ====== PRODUCT 3: ChemGraph ====== -->
<style>
@keyframes cg-draw-line{from{stroke-dashoffset:300}to{stroke-dashoffset:0}}
.cg-line-anim{stroke-dasharray:300;animation:cg-draw-line .6s ease forwards}
.cg-tooltip{position:absolute;background:rgba(15,15,30,0.95);border:1px solid rgba(99,102,241,0.3);border-radius:8px;padding:6px 10px;font-size:10px;color:#e5e7eb;pointer-events:none;white-space:nowrap;z-index:50;transform:translate(-50%,-110%)}
</style>
<div x-show="activeProduct===3" x-cloak class="fade-in max-w-5xl" x-data="chemGraphApp()">
<h2 class="text-xl font-bold mb-4">üï∏Ô∏è ChemGraph</h2>
<div class="text-xs text-gray-400 mb-2 flex gap-4 flex-wrap">
  <span>üîµ 465 Manufacturers</span><span>üü¢ 5,000+ Customers</span><span>üü† 847 Products</span><span>üîó 12,400 Connections</span>
</div>

<!-- Search Bar -->
<div class="mb-3">
  <input type="text" x-model="searchTerm" @input="applySearch()" placeholder="üîç Search manufacturer, product, or customer..." class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm outline-none focus:border-indigo placeholder-gray-500">
</div>

<!-- Network Stats -->
<div class="text-[10px] text-gray-500 mb-2" x-text="'Showing ' + visibleNodeCount + ' nodes, ' + visibleLineCount + ' connections'"></div>

<!-- SVG Network -->
<div class="glass rounded-xl p-4 mb-4 relative overflow-hidden" style="height:380px" @click="if($event.target===($event.currentTarget.querySelector('svg')||$event.currentTarget)){closeDetail()}">
<svg width="100%" height="100%" class="absolute inset-0">
  <template x-for="l in graphLines" :key="l.id">
    <line :x1="l.x1" :y1="l.y1" :x2="l.x2" :y2="l.y2" class="node-line" :class="(l.highlighted?'highlighted':'') + (l.dimmed?' opacity-5':'') + (l.animated?' cg-line-anim':'')"/>
  </template>
</svg>
<template x-for="n in graphNodes" :key="n.id">
  <div class="absolute node-circle flex flex-col items-center cursor-pointer" :class="(n.dimmed?'dimmed':'') + (n.highlighted?' highlighted':'')" :style="'left:'+n.x+'%;top:'+n.y+'%'" @mouseenter="hoverNode(n.id)" @mouseleave="unhoverNode()" @click.stop="clickNode(n.id)">
    <div class="w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold transition-all" :style="'background:'+n.color+'33;color:'+n.color+';'+(selectedNode===n.id?'box-shadow:0 0 12px '+n.color:'')" x-text="n.label.substring(0,2)"></div>
    <div class="text-[9px] text-gray-500 mt-0.5 whitespace-nowrap" x-text="n.label"></div>
  </div>
</template>
<!-- Tooltip -->
<div x-show="tooltipVisible" x-cloak class="cg-tooltip" :style="'left:'+tooltipX+'%;top:'+tooltipY+'%'" x-html="tooltipContent"></div>
</div>

<!-- Detail Panel -->
<div x-show="detailPanel" x-cloak class="glass rounded-xl p-4 mb-4 fade-in border border-indigo/20">
  <div class="flex justify-between items-start mb-2">
    <div class="text-sm font-semibold" x-text="detailTitle"></div>
    <button @click="closeDetail()" class="text-gray-500 hover:text-white text-xs">‚úï</button>
  </div>
  <div x-html="detailContent" class="text-xs space-y-1"></div>
</div>

<!-- Query Buttons -->
<div class="grid grid-cols-2 md:grid-cols-3 gap-2 mb-4">
  <button @click="runQuery('risk')" :class="activeQuery==='risk'?'border-indigo bg-indigo/10':''" class="glass rounded-lg px-3 py-2 text-xs text-left glass-hover transition border border-transparent">‚ö†Ô∏è Supply Risk:<br><span class="text-gray-400">Anand Chemtex offline</span></button>
  <button @click="runQuery('cost')" :class="activeQuery==='cost'?'border-indigo bg-indigo/10':''" class="glass rounded-lg px-3 py-2 text-xs text-left glass-hover transition border border-transparent">üí∞ Cost Benchmark:<br><span class="text-gray-400">Pymetrozine</span></button>
  <button @click="runQuery('capacity')" :class="activeQuery==='capacity'?'border-indigo bg-indigo/10':''" class="glass rounded-lg px-3 py-2 text-xs text-left glass-hover transition border border-transparent">üè≠ Capacity Match:<br><span class="text-gray-400">Idle Hydrogenation</span></button>
  <button @click="runQuery('china')" :class="activeQuery==='china'?'border-indigo bg-indigo/10':''" class="glass rounded-lg px-3 py-2 text-xs text-left glass-hover transition border border-transparent">üîÑ China+1:<br><span class="text-gray-400">>70% dependency</span></button>
  <button @click="runQuery('crosssell')" :class="activeQuery==='crosssell'?'border-indigo bg-indigo/10':''" class="glass rounded-lg px-3 py-2 text-xs text-left glass-hover transition border border-transparent">üîÑ Cross-Sell:<br><span class="text-gray-400">Customer X also needs...</span></button>
  <button @click="runQuery('anomaly')" :class="activeQuery==='anomaly'?'border-indigo bg-indigo/10':''" class="glass rounded-lg px-3 py-2 text-xs text-left glass-hover transition border border-transparent">üìä Price Anomaly:<br><span class="text-gray-400">Above-market pricing</span></button>
</div>

<!-- Results -->
<div x-show="queryResult" x-cloak class="glass rounded-xl p-4 fade-in">
  <div class="text-sm font-medium mb-3" x-text="queryTitle"></div>
  <div x-html="queryResult"></div>
</div>
</div>

<!-- ====== PRODUCT 4: ComplianceOS ====== -->
<div x-show="activeProduct===4" x-cloak class="fade-in max-w-4xl" x-data="complianceApp()">
<h2 class="text-xl font-bold mb-4">üõ°Ô∏è ComplianceOS</h2>

<!-- Tabs -->
<div class="flex gap-1 bg-white/5 rounded-lg p-0.5 mb-4 w-fit flex-wrap">
  <button @click="cTab='certs'" :class="cTab==='certs'?'bg-indigo text-white':'text-gray-400'" class="px-3 py-1 rounded-md text-xs font-medium transition">Certificates</button>
  <button @click="cTab='sds'" :class="cTab==='sds'?'bg-indigo text-white':'text-gray-400'" class="px-3 py-1 rounded-md text-xs font-medium transition">Generate SDS</button>
  <button @click="cTab='gap'" :class="cTab==='gap'?'bg-indigo text-white':'text-gray-400'" class="px-3 py-1 rounded-md text-xs font-medium transition">Gap Analysis</button>
  <button @click="cTab='onboard'" :class="cTab==='onboard'?'bg-indigo text-white':'text-gray-400'" class="px-3 py-1 rounded-md text-xs font-medium transition">Onboard Factory</button>
</div>

<!-- Renewal Modal -->
<div x-show="renewCert" x-cloak class="fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4" @click.self="renewCert=null;renewStep=1">
  <div class="glass rounded-xl p-6 max-w-md w-full border border-white/10" @click.stop>
    <h3 class="font-bold text-sm mb-4">üîÑ Renew Certificate ‚Äî <span x-text="renewCert?.type"></span> (<span x-text="renewCert?.facility"></span>)</h3>
    <!-- Step 1: Schedule -->
    <div x-show="renewStep===1">
      <p class="text-xs text-gray-400 mb-3">Step 1: Schedule Audit</p>
      <input type="date" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm outline-none focus:border-indigo mb-3" x-model="renewDate">
      <button @click="renewStep=2" class="w-full bg-indigo hover:bg-indigo/80 text-white py-2 rounded-lg text-xs font-medium transition">Schedule Audit ‚Üí</button>
    </div>
    <!-- Step 2: Upload -->
    <div x-show="renewStep===2" class="fade-in">
      <p class="text-xs text-gray-400 mb-1">Step 2: Upload New Certificate</p>
      <p class="text-[10px] text-teal mb-3">‚úì Audit scheduled for <span x-text="renewDate"></span></p>
      <div class="border-2 border-dashed border-white/10 rounded-lg p-6 text-center mb-3 cursor-pointer hover:border-indigo/50 transition" @click="renewStep=3">
        <div class="text-2xl mb-1">üìÑ</div>
        <div class="text-xs text-gray-400">Click to upload certificate (simulated)</div>
      </div>
    </div>
    <!-- Step 3: Done -->
    <div x-show="renewStep===3" class="fade-in text-center">
      <div class="text-4xl mb-2">‚úÖ</div>
      <p class="text-sm font-semibold text-teal mb-1">Certificate Renewed!</p>
      <p class="text-xs text-gray-400 mb-4">Status updated to Valid. Next audit: <span x-text="renewDate"></span></p>
      <button @click="completeRenewal()" class="bg-teal/20 text-teal px-6 py-2 rounded-lg text-xs font-medium transition hover:bg-teal/30">Done</button>
    </div>
  </div>
</div>

<!-- Alert Impact Modal -->
<div x-show="alertImpact" x-cloak class="fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4" @click.self="alertImpact=null">
  <div class="glass rounded-xl p-6 max-w-md w-full border border-white/10" @click.stop>
    <h3 class="font-bold text-sm mb-3">üìä Impact Assessment</h3>
    <p class="text-xs text-gray-400 mb-3" x-text="alertImpact?.title"></p>
    <div class="space-y-2 mb-4">
      <template x-for="item in alertImpact?.impacts||[]" :key="item">
        <div class="flex items-center gap-2 text-xs glass rounded-lg px-3 py-2">
          <span class="text-amber">‚ö†</span><span x-text="item"></span>
        </div>
      </template>
    </div>
    <button @click="alertImpact=null" class="w-full bg-white/5 hover:bg-white/10 py-2 rounded-lg text-xs font-medium transition">Close</button>
  </div>
</div>

<!-- Certs Dashboard -->
<div x-show="cTab==='certs'">
  <!-- Dashboard Stats -->
  <div class="grid grid-cols-2 md:grid-cols-5 gap-3 mb-4">
    <div class="glass rounded-xl p-3 text-center"><div class="text-2xl font-bold text-teal" x-text="certData.length"></div><div class="text-[10px] text-gray-400">Total Certs</div></div>
    <div class="glass rounded-xl p-3 text-center"><div class="text-2xl font-bold text-green-400">‚Üë2</div><div class="text-[10px] text-gray-400">New This Quarter</div></div>
    <div class="glass rounded-xl p-3 text-center"><div class="text-2xl font-bold text-amber" x-text="certData.filter(c=>c.status==='Expiring').length"></div><div class="text-[10px] text-gray-400">Expiring Soon</div></div>
    <div class="glass rounded-xl p-3 text-center"><div class="text-2xl font-bold text-red-400" x-text="certData.filter(c=>c.status==='Expired').length"></div><div class="text-[10px] text-gray-400 flex items-center justify-center gap-1">‚Üì1 Expired</div></div>
    <div class="glass rounded-xl p-3 text-center"><div class="text-2xl font-bold text-indigo">3</div><div class="text-[10px] text-gray-400">Renewals &lt;90d</div></div>
  </div>
  <div class="glass rounded-xl overflow-hidden">
    <table class="w-full text-xs">
      <thead><tr class="text-gray-500 bg-white/[0.02]"><th class="text-left p-3">Facility</th><th class="text-left p-3">Cert Type</th><th class="text-left p-3">Issued</th><th class="text-left p-3">Expires</th><th class="text-left p-3">Status</th><th class="text-left p-3">Action</th></tr></thead>
      <tbody>
        <template x-for="c in certData" :key="c.id">
          <tr class="border-t border-white/5" :class="c._renewed?'bg-teal/5':''">
            <td class="p-3" x-text="c.facility"></td><td class="p-3" x-text="c.type"></td><td class="p-3 text-gray-400" x-text="c.issued"></td><td class="p-3 text-gray-400" x-text="c.expires"></td>
            <td class="p-3"><span class="px-2 py-0.5 rounded text-[10px] font-medium transition-all duration-500" :class="c.status==='Valid'?'bg-teal/20 text-teal':c.status==='Expiring'?'bg-amber/20 text-amber':'bg-red-500/20 text-red-400'" x-text="c.status"></span></td>
            <td class="p-3">
              <button x-show="c.status==='Expiring'||c.status==='Expired'" @click="startRenewal(c)" class="px-2 py-0.5 rounded text-[10px] font-medium bg-indigo/20 text-indigo hover:bg-indigo/40 transition">Renew</button>
              <span x-show="c._renewed" class="text-[10px] text-teal">‚úì Renewed</span>
            </td>
          </tr>
        </template>
      </tbody>
    </table>
  </div>
  <!-- Alerts -->
  <div class="mt-4 space-y-2">
    <div class="text-xs font-medium text-gray-400 mb-2">‚ö†Ô∏è Regulatory Alerts</div>
    <template x-for="(alert,ai) in alerts" :key="ai">
      <div x-show="!alert.dismissed" class="glass rounded-lg p-3 border-l-2 text-xs" :class="alert.color">
        <div class="mb-2" x-text="alert.text"></div>
        <div class="flex gap-2">
          <button @click="showAlertImpact(alert)" class="px-2 py-0.5 rounded bg-white/5 hover:bg-white/10 text-[10px] transition">üìä Review Impact</button>
          <button @click="alert.assigned=true" class="px-2 py-0.5 rounded bg-white/5 hover:bg-white/10 text-[10px] transition" :class="alert.assigned?'text-teal':''" x-text="alert.assigned?'‚úì Assigned':'üë• Assign to Team'"></button>
          <button @click="alert.dismissed=true" class="px-2 py-0.5 rounded bg-white/5 hover:bg-white/10 text-[10px] text-gray-500 transition">Dismiss</button>
        </div>
      </div>
    </template>
  </div>
</div>

<!-- SDS Generator -->
<div x-show="cTab==='sds'" x-cloak>
  <div x-show="!sdsPreview" class="glass rounded-xl p-6">
    <h3 class="font-semibold text-sm mb-4">Generate Safety Data Sheet</h3>
    <div class="grid md:grid-cols-2 gap-4">
      <div><label class="text-xs text-gray-400 block mb-1">Product Name</label><input x-model="sdsForm.name" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm outline-none focus:border-indigo" placeholder="Pymetrozine"></div>
      <div><label class="text-xs text-gray-400 block mb-1">CAS Number</label><input x-model="sdsForm.cas" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm outline-none focus:border-indigo" placeholder="123456-78-9"></div>
      <div class="md:col-span-2"><label class="text-xs text-gray-400 block mb-1">Composition</label><textarea x-model="sdsForm.comp" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm outline-none focus:border-indigo h-20" placeholder="Active ingredient 98%, excipients 2%"></textarea></div>
      <div><label class="text-xs text-gray-400 block mb-1">Hazard Classification</label>
        <select x-model="sdsForm.hazard" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm outline-none focus:border-indigo">
          <option value="Irritant">Irritant</option><option value="Toxic">Toxic</option><option value="Flammable">Flammable</option><option value="Corrosive">Corrosive</option><option value="Environmental Hazard">Environmental Hazard</option>
        </select>
      </div>
    </div>
    <button @click="sdsPreview=true" class="mt-4 bg-indigo hover:bg-indigo/80 text-white px-6 py-2 rounded-lg text-sm font-medium transition">Generate SDS ‚Üí</button>
  </div>
  <div x-show="sdsPreview" x-cloak class="fade-in">
    <button @click="sdsPreview=false" class="text-xs text-gray-400 hover:text-white mb-4">‚Üê Back</button>
    <div class="glass rounded-xl p-6 border-l-4 border-indigo">
      <div class="flex justify-between items-start mb-4">
        <div><h3 class="font-bold text-lg">Safety Data Sheet</h3><div class="text-xs text-gray-400">GHS Compliant ‚Äî Rev 1.0 ‚Äî 16 Sections</div></div>
        <div class="text-3xl" x-text="sdsForm.hazard==='Toxic'?'‚ò†Ô∏è':sdsForm.hazard==='Flammable'?'üî•':sdsForm.hazard==='Corrosive'?'‚öóÔ∏è':sdsForm.hazard==='Environmental Hazard'?'üåç':'‚ö†Ô∏è'"></div>
      </div>
      <!-- Full 16-section SDS -->
      <div class="space-y-3 max-h-[60vh] overflow-y-auto pr-2">
        <template x-for="(sec,si) in sdsSections()" :key="si">
          <div class="border border-white/5 rounded-lg p-3">
            <div class="text-xs font-semibold text-indigo mb-1" x-text="'Section '+(si+1)+': '+sec.title"></div>
            <div class="text-[11px] text-gray-300 leading-relaxed whitespace-pre-line" x-text="sec.content"></div>
          </div>
        </template>
      </div>
      <div class="mt-4 pt-4 border-t border-white/10 flex flex-wrap gap-2 items-center">
        <button @click="sdsDownloaded='pdf'" class="bg-indigo/20 text-indigo px-4 py-1.5 rounded-lg text-xs font-medium hover:bg-indigo/30 transition">
          <span x-text="sdsDownloaded==='pdf'?'‚úì Downloaded':'üì• Download PDF'"></span>
        </button>
        <button @click="sdsDownloaded='eu'" class="bg-amber/20 text-amber px-4 py-1.5 rounded-lg text-xs font-medium hover:bg-amber/30 transition">
          <span x-text="sdsDownloaded==='eu'?'‚úì Exported':'üá™üá∫ Export EU Format'"></span>
        </button>
        <span class="text-[10px] text-gray-500 ml-auto">Generated by ComplianceOS ‚Ä¢ Scimplify ‚Ä¢ <span x-text="new Date().toLocaleDateString()"></span></span>
      </div>
    </div>
  </div>
</div>

<!-- Gap Analysis -->
<div x-show="cTab==='gap'" x-cloak>
  <div class="glass rounded-xl p-5">
    <label class="text-xs text-gray-400 block mb-2">Select Facility</label>
    <select x-model="gapFacility" @change="remediationStarted=false;remediationPlan=[]" class="bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm outline-none focus:border-indigo mb-4">
      <option value="anand">Anand Chemtex ‚Äî Vadodara</option>
      <option value="deccan">Deccan Fine Chemicals ‚Äî Pune</option>
      <option value="kaivin">KaiVin Chemical ‚Äî Ankleshwar</option>
    </select>
    <div class="space-y-2">
      <template x-for="g in gapData[gapFacility]||[]" :key="g.cert">
        <div class="flex items-center justify-between py-2 border-b border-white/5">
          <div class="flex items-center gap-2">
            <span :class="g.has?'text-teal':'text-red-400'" x-text="g.has?'‚úì':'‚úó'"></span>
            <span class="text-sm" x-text="g.cert"></span>
          </div>
          <span x-show="!g.has" class="text-[10px] text-amber bg-amber/10 px-2 py-0.5 rounded" x-text="g.fix"></span>
        </div>
      </template>
    </div>
    <!-- Remediation Tracking -->
    <div class="mt-4 pt-4 border-t border-white/10">
      <button x-show="!remediationStarted" @click="startRemediation()" class="bg-indigo hover:bg-indigo/80 text-white px-5 py-2 rounded-lg text-xs font-medium transition">üõ† Start Remediation Plan</button>
      <div x-show="remediationStarted" class="fade-in space-y-2">
        <div class="text-xs font-medium text-gray-400 mb-2">üìã Remediation Plan</div>
        <template x-for="(r,ri) in remediationPlan" :key="ri">
          <div class="flex items-center justify-between glass rounded-lg px-3 py-2">
            <div class="flex items-center gap-2">
              <span class="text-xs" x-text="r.cert"></span>
              <span class="text-[10px] text-gray-500" x-text="r.timeline"></span>
            </div>
            <button @click="advanceRemediation(ri)" class="px-2 py-0.5 rounded text-[10px] font-medium transition"
              :class="r.stage===0?'bg-gray-500/20 text-gray-400':r.stage===1?'bg-amber/20 text-amber':r.stage===2?'bg-indigo/20 text-indigo':'bg-teal/20 text-teal'"
              x-text="['Not Started','In Progress ‚Üí','Audit Scheduled ‚Üí','‚úì Complete'][r.stage]"
              :disabled="r.stage>=3"></button>
          </div>
        </template>
      </div>
    </div>
  </div>
</div>

<!-- Onboard Factory -->
<div x-show="cTab==='onboard'" x-cloak>
  <div class="glass rounded-xl p-6">
    <h3 class="font-semibold text-sm mb-4">üè≠ Self-Serve Factory Onboarding</h3>
    <!-- Progress -->
    <div class="flex gap-1 mb-6">
      <template x-for="s in 4" :key="s">
        <div class="h-1 flex-1 rounded-full transition-all duration-300" :class="onboardStep>=s?'bg-indigo':'bg-white/10'"></div>
      </template>
    </div>

    <!-- Step 1 -->
    <div x-show="onboardStep===1">
      <label class="text-xs text-gray-400 block mb-1">Factory Name</label>
      <input x-model="onboardForm.name" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm outline-none focus:border-indigo mb-3" placeholder="e.g. Sunrise Chemicals">
      <label class="text-xs text-gray-400 block mb-1">Location</label>
      <input x-model="onboardForm.location" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm outline-none focus:border-indigo mb-4" placeholder="e.g. Vadodara, Gujarat">
      <button @click="onboardStep=2" :disabled="!onboardForm.name||!onboardForm.location" class="bg-indigo hover:bg-indigo/80 disabled:opacity-40 text-white px-6 py-2 rounded-lg text-xs font-medium transition">Next ‚Üí</button>
    </div>
    <!-- Step 2 -->
    <div x-show="onboardStep===2" class="fade-in">
      <label class="text-xs text-gray-400 block mb-2">Current Certifications</label>
      <div class="grid grid-cols-2 gap-2 mb-4">
        <template x-for="cert in allCertTypes" :key="cert">
          <label class="flex items-center gap-2 glass rounded-lg px-3 py-2 cursor-pointer hover:bg-white/5 transition">
            <input type="checkbox" :value="cert" x-model="onboardForm.certs" class="accent-indigo">
            <span class="text-xs" x-text="cert"></span>
          </label>
        </template>
      </div>
      <div class="flex gap-2">
        <button @click="onboardStep=1" class="bg-white/5 hover:bg-white/10 px-4 py-2 rounded-lg text-xs transition">‚Üê Back</button>
        <button @click="onboardStep=3" class="bg-indigo hover:bg-indigo/80 text-white px-6 py-2 rounded-lg text-xs font-medium transition">Next ‚Üí</button>
      </div>
    </div>
    <!-- Step 3 -->
    <div x-show="onboardStep===3" class="fade-in">
      <label class="text-xs text-gray-400 block mb-2">Target Buyer Segments</label>
      <div class="grid grid-cols-2 gap-2 mb-4">
        <template x-for="seg in buyerSegments" :key="seg.name">
          <label class="flex items-center gap-2 glass rounded-lg px-3 py-2 cursor-pointer hover:bg-white/5 transition">
            <input type="checkbox" :value="seg.name" x-model="onboardForm.segments" class="accent-indigo">
            <span class="text-xs" x-text="seg.name"></span>
          </label>
        </template>
      </div>
      <div class="flex gap-2">
        <button @click="onboardStep=2" class="bg-white/5 hover:bg-white/10 px-4 py-2 rounded-lg text-xs transition">‚Üê Back</button>
        <button @click="onboardStep=4;generateOnboardGap()" class="bg-indigo hover:bg-indigo/80 text-white px-6 py-2 rounded-lg text-xs font-medium transition">Generate Gap Report ‚Üí</button>
      </div>
    </div>
    <!-- Step 4: Report -->
    <div x-show="onboardStep===4" class="fade-in">
      <div class="text-center mb-4">
        <div class="text-2xl mb-1">üìã</div>
        <h4 class="font-semibold text-sm">Gap Report for <span x-text="onboardForm.name"></span></h4>
        <div class="text-[10px] text-gray-400" x-text="onboardForm.location"></div>
      </div>
      <div class="space-y-2 mb-4">
        <template x-for="g in onboardGaps" :key="g.cert">
          <div class="flex items-center justify-between py-2 border-b border-white/5">
            <div class="flex items-center gap-2">
              <span :class="g.has?'text-teal':'text-red-400'" x-text="g.has?'‚úì Have':'‚úó Need'"></span>
              <span class="text-xs" x-text="g.cert"></span>
            </div>
            <span x-show="!g.has" class="text-[10px] text-amber bg-amber/10 px-2 py-0.5 rounded" x-text="g.est"></span>
          </div>
        </template>
      </div>
      <div x-show="onboardGaps.length" class="glass rounded-lg p-3 text-center mb-4">
        <div class="text-xs text-gray-400">Estimated time to full compliance</div>
        <div class="text-lg font-bold text-indigo" x-text="onboardGaps.filter(g=>!g.has).length===0?'Already Qualified! ‚úÖ':onboardGaps.filter(g=>!g.has).length*2+' ‚Äî '+onboardGaps.filter(g=>!g.has).length*3+' months'"></div>
      </div>
      <button @click="onboardStep=1;onboardForm={name:'',location:'',certs:[],segments:[]};onboardGaps=[]" class="w-full bg-white/5 hover:bg-white/10 py-2 rounded-lg text-xs font-medium transition">Start Over</button>
    </div>
  </div>
</div>
</div>

<!-- ====== PRODUCT 5: ATOMS Commerce ====== -->
<div x-show="activeProduct===5" x-cloak class="fade-in max-w-5xl" x-data="atomsApp()">
<h2 class="text-xl font-bold mb-4">üõí ATOMS Commerce</h2>

<!-- Cart indicator -->
<div x-show="cart.length>0" class="fixed top-16 right-4 z-30">
  <button @click="showCart=!showCart" class="bg-indigo text-white px-3 py-1.5 rounded-lg text-xs font-medium shadow-lg">üõí <span x-text="cart.length"></span> items</button>
</div>

<div x-show="!showDetail && !showCart && !showQuote">
<!-- Search & Filters -->
<div class="flex flex-wrap gap-2 mb-4">
  <input x-model="search" class="bg-white/5 border border-white/10 rounded-lg px-3 py-1.5 text-sm outline-none focus:border-indigo flex-1 min-w-[200px]" placeholder="Search products...">
  <select x-model="filterPurity" class="bg-white/5 border border-white/10 rounded-lg px-3 py-1.5 text-xs outline-none">
    <option value="">All Purity</option><option value="99">‚â•99%</option><option value="98">‚â•98%</option>
  </select>
</div>
<!-- Product Grid -->
<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
  <template x-for="p in filteredProducts" :key="p.id">
    <div class="glass rounded-xl p-4 glass-hover transition">
      <div @click="showDetail=p" class="cursor-pointer">
        <h3 class="font-semibold text-sm mb-1" x-text="p.name"></h3>
        <div class="text-[10px] text-gray-500 mb-2" x-text="'CAS: '+p.cas"></div>
        <div class="flex justify-between items-end mb-3">
          <div><div class="text-xs text-gray-400">Purity</div><div class="font-semibold text-sm" x-text="p.purity+'%'"></div></div>
          <div class="text-right"><div class="text-xs text-gray-400">Price/kg</div><div class="font-semibold text-sm text-teal" x-text="'‚Çπ'+p.price"></div></div>
        </div>
        <div class="text-[10px] text-gray-500 mb-2" x-text="'Min order: '+p.minOrder+' kg'"></div>
        <div class="flex flex-wrap gap-1 mb-3">
          <template x-for="c in p.certs"><span class="text-[10px] px-1.5 py-0.5 rounded bg-teal/10 text-teal" x-text="c"></span></template>
        </div>
      </div>
      <button @click="addToCart(p)" class="w-full bg-indigo/20 hover:bg-indigo/40 text-indigo py-1.5 rounded-lg text-xs font-medium transition">Add to Cart</button>
    </div>
  </template>
</div>
</div>

<!-- Product Detail -->
<div x-show="showDetail" x-cloak class="fade-in">
  <button @click="showDetail=null" class="text-xs text-gray-400 hover:text-white mb-4">‚Üê Back to Catalog</button>
  <template x-if="showDetail">
  <div class="glass rounded-xl p-6">
    <h3 class="text-lg font-bold mb-1" x-text="showDetail.name"></h3>
    <div class="text-xs text-gray-400 mb-4" x-text="'CAS: '+showDetail.cas"></div>
    <div class="grid md:grid-cols-2 gap-6">
      <div class="space-y-3 text-sm">
        <div><span class="text-gray-400">Purity:</span> <span x-text="showDetail.purity+'%'"></span></div>
        <div><span class="text-gray-400">Molecular Weight:</span> <span x-text="showDetail.mw||'N/A'"></span></div>
        <div><span class="text-gray-400">Delivery:</span> 5-7 business days</div>
        <div><span class="text-gray-400">Manufacturer:</span> Verified Facility (Anonymized)</div>
        <div class="flex flex-wrap gap-1"><template x-for="c in showDetail.certs"><span class="text-xs px-2 py-0.5 rounded bg-teal/10 text-teal" x-text="c"></span></template></div>
      </div>
      <div>
        <div class="text-xs font-medium text-gray-400 mb-2">Pack Sizes</div>
        <div class="space-y-2">
          <div class="flex justify-between text-sm glass rounded-lg px-3 py-2"><span>25 kg</span><span class="text-teal" x-text="'‚Çπ'+(showDetail.price*1.1).toFixed(0)+'/kg'"></span></div>
          <div class="flex justify-between text-sm glass rounded-lg px-3 py-2"><span>100 kg</span><span class="text-teal" x-text="'‚Çπ'+showDetail.price+'/kg'"></span></div>
          <div class="flex justify-between text-sm glass rounded-lg px-3 py-2"><span>500 kg</span><span class="text-teal" x-text="'‚Çπ'+(showDetail.price*0.92).toFixed(0)+'/kg'"></span></div>
        </div>
        <button @click="addToCart(showDetail);showDetail=null" class="mt-4 w-full bg-indigo hover:bg-indigo/80 text-white py-2 rounded-lg text-sm font-medium transition">Add to Cart</button>
      </div>
    </div>
  </div>
  </template>
</div>

<!-- Cart -->
<div x-show="showCart" x-cloak class="fade-in">
  <button @click="showCart=false" class="text-xs text-gray-400 hover:text-white mb-4">‚Üê Back</button>
  <div class="glass rounded-xl p-6">
    <h3 class="font-semibold mb-4">Your Cart</h3>
    <template x-for="(item,i) in cart" :key="i">
      <div class="flex justify-between items-center py-2 border-b border-white/5 text-sm">
        <span x-text="item.name"></span>
        <div class="flex items-center gap-3">
          <span class="text-gray-400" x-text="item.qty+' kg'"></span>
          <span class="text-teal" x-text="'‚Çπ'+(item.price*item.qty).toLocaleString()"></span>
          <button @click="cart.splice(i,1)" class="text-red-400 text-xs">‚úó</button>
        </div>
      </div>
    </template>
    <div class="flex justify-between items-center mt-4 pt-4 border-t border-white/10">
      <span class="font-semibold">Total</span>
      <span class="text-lg font-bold text-teal" x-text="'‚Çπ'+cartTotal().toLocaleString()"></span>
    </div>
    <button @click="showCart=false;showQuote=true" class="mt-4 w-full bg-indigo hover:bg-indigo/80 text-white py-2 rounded-lg text-sm font-medium transition">Get Instant Quote ‚Üí</button>
  </div>
</div>

<!-- Quote -->
<div x-show="showQuote" x-cloak class="fade-in">
  <button @click="showQuote=false" class="text-xs text-gray-400 hover:text-white mb-4">‚Üê Back</button>
  <div class="glass rounded-xl p-6 border-l-4 border-teal glow-teal">
    <h3 class="font-bold text-lg mb-1">Quote Summary</h3>
    <div class="text-xs text-gray-400 mb-4">Quote #SCM-<span x-text="Math.floor(Math.random()*9000+1000)"></span></div>
    <template x-for="item in cart" :key="item.name">
      <div class="flex justify-between text-sm py-1 border-b border-white/5">
        <span x-text="item.name+' √ó '+item.qty+' kg'"></span>
        <span x-text="'‚Çπ'+(item.price*item.qty).toLocaleString()"></span>
      </div>
    </template>
    <div class="flex justify-between font-bold mt-3 text-lg"><span>Total</span><span class="text-teal" x-text="'‚Çπ'+cartTotal().toLocaleString()"></span></div>
    <div class="mt-4 grid grid-cols-3 gap-4 text-xs text-center">
      <div><span class="text-gray-400 block">Delivery</span><span>5-7 days</span></div>
      <div><span class="text-gray-400 block">Payment</span><span>Net 30</span></div>
      <div><span class="text-gray-400 block">Valid For</span><span>7 days</span></div>
    </div>
  </div>
</div>
</div>

<!-- ====== PRODUCT 6: GreenScore ====== -->
<div x-show="activeProduct===6" x-cloak class="fade-in max-w-4xl" x-data="greenApp()">
<h2 class="text-xl font-bold mb-4">üå± GreenScore</h2>

<div class="flex flex-wrap gap-1 bg-white/5 rounded-lg p-0.5 mb-4 w-fit">
  <button @click="gTab='compare'" :class="gTab==='compare'?'bg-indigo text-white':'text-gray-400'" class="px-3 py-1 rounded-md text-xs font-medium transition">Route Compare</button>
  <button @click="gTab='cert'" :class="gTab==='cert'?'bg-indigo text-white':'text-gray-400'" class="px-3 py-1 rounded-md text-xs font-medium transition">Carbon Certificate</button>
  <button @click="gTab='cbam'" :class="gTab==='cbam'?'bg-indigo text-white':'text-gray-400'" class="px-3 py-1 rounded-md text-xs font-medium transition">CBAM Calculator</button>
  <button @click="gTab='portfolio'" :class="gTab==='portfolio'?'bg-indigo text-white':'text-gray-400'" class="px-3 py-1 rounded-md text-xs font-medium transition">Portfolio</button>
  <button @click="gTab='how'" :class="gTab==='how'?'bg-indigo text-white':'text-gray-400'" class="px-3 py-1 rounded-md text-xs font-medium transition">How It Works</button>
</div>

<!-- Route Comparison -->
<div x-show="gTab==='compare'">
  <!-- Product Selector -->
  <div class="flex items-center gap-3 mb-4">
    <label class="text-xs text-gray-400">Product:</label>
    <select x-model="selectedProduct" @change="updateRoutes()" class="bg-white/5 border border-white/10 rounded-lg px-3 py-1.5 text-sm outline-none focus:border-indigo">
      <template x-for="p in Object.keys(productData)" :key="p"><option :value="p" x-text="p"></option></template>
    </select>
  </div>
  <div class="text-sm text-gray-400 mb-4" x-text="selectedProduct+': Traditional Route vs Scimplify Optimized Route'"></div>
  <div class="grid md:grid-cols-2 gap-4">
    <template x-for="r in routes" :key="r.name">
      <div class="glass rounded-xl p-5">
        <h3 class="font-semibold text-sm mb-1" x-text="r.name"></h3>
        <div class="text-3xl font-bold mb-3" :class="r.grade==='A+'?'text-teal':r.grade==='A'?'text-teal':r.grade==='B'?'text-amber':'text-red-400'" x-text="r.grade"></div>
        <div class="space-y-3">
          <template x-for="m in ['steps','energy','water','waste','co2']" :key="m">
            <div>
              <div class="flex justify-between text-xs mb-1"><span class="text-gray-400" x-text="metricLabels[m]"></span><span x-text="r[m]+' '+metricUnits[m]"></span></div>
              <div class="w-full bg-white/5 rounded-full h-2"><div class="h-2 rounded-full" :class="r===routes[1]?'bg-teal':'bg-amber'" :style="'width:'+Math.min(100,r[m]/maxMetric(m)*100)+'%'"></div></div>
            </div>
          </template>
        </div>
      </div>
    </template>
  </div>

  <!-- Carbon Reduction Over Time -->
  <div class="glass rounded-xl p-5 mt-4">
    <h3 class="font-semibold text-sm mb-3">üìâ Optimization Journey: <span class="text-teal" x-text="selectedProduct"></span></h3>
    <div class="flex items-end gap-2 h-32 mb-2">
      <template x-for="(v,i) in currentIterations" :key="i">
        <div class="flex-1 flex flex-col items-center gap-1">
          <div class="text-xs font-bold" :class="i===currentIterations.length-1?'text-teal':'text-gray-400'" x-text="v.co2+' kg'"></div>
          <div class="w-full rounded-t-md transition-all duration-500" :class="i===currentIterations.length-1?'bg-teal':'bg-amber/60'" :style="'height:'+((v.co2/currentIterations[0].co2)*100)+'%'"></div>
          <div class="text-[10px] text-gray-500" x-text="v.label"></div>
        </div>
      </template>
    </div>
    <div class="text-center text-xs text-gray-500">Each iteration optimizes catalyst, temperature, solvent, and energy source</div>
  </div>

  <!-- Interactive Route Builder -->
  <div class="glass rounded-xl p-5 mt-4">
    <h3 class="font-semibold text-sm mb-3">üîß Build Custom Route</h3>
    <div class="grid md:grid-cols-3 gap-4 mb-4">
      <div>
        <label class="text-xs text-gray-400 block mb-1">Synthesis Steps</label>
        <input type="range" x-model.number="builder.steps" min="3" max="8" class="w-full accent-indigo">
        <div class="text-center text-sm font-medium" x-text="builder.steps+' steps'"></div>
      </div>
      <div>
        <label class="text-xs text-gray-400 block mb-1">Energy Source</label>
        <select x-model="builder.energy" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-1.5 text-sm outline-none focus:border-indigo">
          <option value="grid">Grid (Coal-heavy)</option>
          <option value="mixed">Mixed (Grid + Solar)</option>
          <option value="solar">Solar / Renewable</option>
        </select>
      </div>
      <div>
        <label class="text-xs text-gray-400 block mb-1">Factory Location</label>
        <select x-model="builder.location" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-1.5 text-sm outline-none focus:border-indigo">
          <option value="gujarat">Gujarat</option>
          <option value="tamilnadu">Tamil Nadu</option>
          <option value="maharashtra">Maharashtra</option>
        </select>
      </div>
    </div>
    <div class="glass rounded-lg p-4 text-center">
      <div class="text-xs text-gray-400 mb-1">Estimated Carbon Footprint</div>
      <div class="text-3xl font-bold" :class="builderScore()<3?'text-teal':builderScore()<5?'text-amber':'text-red-400'" x-text="builderScore().toFixed(1)+' kg CO‚ÇÇe/kg'"></div>
      <div class="flex justify-center gap-4 mt-2 text-[11px] text-gray-500">
        <span>Steps: <span class="text-white" x-text="'+'+((builder.steps-3)*0.4).toFixed(1)"></span></span>
        <span>Energy: <span class="text-white" x-text="builder.energy==='grid'?'+1.8':builder.energy==='mixed'?'+0.9':'+0.2'"></span></span>
        <span>Location: <span class="text-white" x-text="builder.location==='gujarat'?'+0.6':builder.location==='tamilnadu'?'+0.3':'+0.5'"></span></span>
      </div>
    </div>
  </div>
</div>

<!-- Carbon Certificate -->
<div x-show="gTab==='cert'" x-cloak>
  <div class="glass rounded-xl p-6 border-l-4 border-teal max-w-lg mx-auto glow-teal">
    <!-- Header -->
    <div class="flex justify-between items-start mb-1">
      <div>
        <div class="text-[10px] tracking-widest text-gray-500 uppercase">Scimplify GreenScore‚Ñ¢</div>
        <div class="text-xs text-teal font-medium mt-1">PRODUCT CARBON FOOTPRINT CERTIFICATE</div>
      </div>
      <div class="w-14 h-14 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center text-[9px] text-gray-500 text-center leading-tight">QR<br>Code</div>
    </div>
    <div class="border-b border-white/10 mb-4 pb-2">
      <div class="text-lg font-bold">Pymetrozine</div>
      <div class="text-[11px] text-gray-500">CAS 123312-89-0 ¬∑ MW 217.23 g/mol</div>
    </div>

    <!-- Metrics -->
    <div class="grid grid-cols-2 gap-4 text-sm mb-4">
      <div><span class="text-gray-400 text-xs block">Synthesis Route</span>Scimplify Optimized (5-step)</div>
      <div><span class="text-gray-400 text-xs block">GreenScore Grade</span><span class="text-teal font-bold text-lg">A+</span></div>
      <div><span class="text-gray-400 text-xs block">Carbon Footprint</span><span class="font-semibold">2.1 kg CO‚ÇÇe / kg</span></div>
      <div><span class="text-gray-400 text-xs block">Scope</span>Cradle-to-gate</div>
      <div><span class="text-gray-400 text-xs block">Issue Date</span><span x-text="new Date().toLocaleDateString()"></span></div>
      <div><span class="text-gray-400 text-xs block">Valid Until</span><span x-text="new Date(Date.now()+365*86400000).toLocaleDateString()"></span></div>
    </div>

    <!-- Methodology -->
    <div class="glass rounded-lg p-3 mb-4">
      <div class="text-[11px] text-gray-400 space-y-1">
        <div class="flex gap-2"><span class="text-teal">Methodology:</span> ISO 14067:2018 ‚Äî Carbon footprint of products</div>
        <div class="flex gap-2"><span class="text-teal">Database:</span> ecoinvent 3.9.1 + Scimplify proprietary factory data</div>
        <div class="flex gap-2"><span class="text-teal">Boundary:</span> Raw material extraction ‚Üí factory gate (excl. logistics)</div>
      </div>
    </div>

    <!-- Verification -->
    <div class="flex items-center gap-2 mb-4 p-2 rounded-lg bg-teal/10 border border-teal/20">
      <div class="w-6 h-6 rounded-full bg-teal flex items-center justify-center text-[11px] text-white font-bold">‚úì</div>
      <div>
        <div class="text-xs font-medium text-teal">Verification Status: Self-Declared (Phase 1)</div>
        <div class="text-[10px] text-gray-500">Third-party audit scheduled Q3 2026 ¬∑ T√úV S√úD</div>
      </div>
    </div>

    <!-- Certificate ID -->
    <div class="text-center text-[10px] text-gray-600 border-t border-white/10 pt-3 mb-3">
      Certificate ID: GS-2026-PYM-00142 ¬∑ Generated by Scimplify GreenScore‚Ñ¢ Engine v2.1
    </div>

    <!-- Action Buttons -->
    <div class="flex gap-2">
      <button class="flex-1 bg-teal/20 hover:bg-teal/30 text-teal text-xs font-medium py-2 rounded-lg transition flex items-center justify-center gap-1">üìÑ Export PDF</button>
      <button class="flex-1 bg-indigo/20 hover:bg-indigo/30 text-indigo text-xs font-medium py-2 rounded-lg transition flex items-center justify-center gap-1">üîó Share Link</button>
    </div>
  </div>
</div>

<!-- Portfolio Dashboard -->
<div x-show="gTab==='portfolio'" x-cloak>
  <div class="glass rounded-xl p-5 mb-4">
    <div class="flex flex-wrap items-center justify-between mb-4">
      <h3 class="font-semibold text-sm">Portfolio Carbon Dashboard</h3>
      <div class="flex gap-4 text-xs">
        <div class="text-center"><div class="text-gray-500">Your Avg</div><div class="text-teal font-bold text-lg">3.1</div><div class="text-gray-600">kg CO‚ÇÇ/kg</div></div>
        <div class="text-center"><div class="text-gray-500">Industry Avg</div><div class="text-amber font-bold text-lg">5.4</div><div class="text-gray-600">kg CO‚ÇÇ/kg</div></div>
        <div class="text-center"><div class="text-gray-500">vs Industry</div><div class="text-teal font-bold text-lg">-43%</div><div class="text-gray-600">below avg</div></div>
      </div>
    </div>
    <div class="overflow-x-auto">
      <table class="w-full text-xs">
        <thead><tr class="text-gray-500 border-b border-white/10"><th class="text-left py-2">Product</th><th class="text-center py-2">Grade</th><th class="text-right py-2">CO‚ÇÇ/kg</th><th class="text-center py-2">Trend</th><th class="text-right py-2">Annual tons</th><th class="text-right py-2">Total CO‚ÇÇ</th></tr></thead>
        <tbody>
          <template x-for="p in portfolio" :key="p.name">
            <tr class="border-b border-white/5">
              <td class="py-2 font-medium" x-text="p.name"></td>
              <td class="text-center"><span class="px-1.5 py-0.5 rounded text-[10px] font-bold" :class="p.grade==='A+'?'bg-teal/20 text-teal':p.grade==='A'?'bg-teal/20 text-teal':p.grade==='B+'?'bg-amber/20 text-amber':'bg-red-400/20 text-red-400'" x-text="p.grade"></span></td>
              <td class="text-right" x-text="p.co2"></td>
              <td class="text-center" x-text="p.trend==='up'?'üìà':p.trend==='down'?'üìâ':'‚û°Ô∏è'"></td>
              <td class="text-right text-gray-400" x-text="p.tons"></td>
              <td class="text-right font-medium" x-text="(p.co2*p.tons).toFixed(0)+' t'"></td>
            </tr>
          </template>
        </tbody>
      </table>
    </div>
    <div class="mt-4 pt-3 border-t border-white/10 flex justify-between items-center">
      <div class="text-xs text-gray-500">Total portfolio: <span class="text-white font-medium" x-text="portfolio.reduce((s,p)=>s+p.co2*p.tons,0).toFixed(0)+' tons CO‚ÇÇe/year'"></span></div>
      <button class="text-xs bg-teal/20 text-teal px-3 py-1 rounded-lg hover:bg-teal/30 transition">üìä Export Report</button>
    </div>
  </div>
</div>

<!-- How It Works -->
<div x-show="gTab==='how'" x-cloak class="fade-in space-y-4">

  <!-- Why Only Scimplify -->
  <div class="glass rounded-xl p-5">
    <h3 class="font-semibold text-sm mb-3 text-indigo">Why Only Scimplify Can Do This</h3>
    <p class="text-xs text-gray-400 mb-3">Most factories can't calculate product-level carbon footprints ‚Äî they lack energy meters on individual reactors, don't track raw material origins, and have no sustainability teams. Scimplify already has all the inputs as <span class="text-white font-medium">byproducts of their core business</span>:</p>
    <div class="grid md:grid-cols-2 gap-3">
      <div class="glass rounded-lg p-3 border-l-2 border-indigo">
        <div class="text-xs font-medium text-indigo mb-1">üß™ Synthesis Routes</div>
        <div class="text-[11px] text-gray-400">R&D team designs every route ‚Äî they know reactions, reagents, solvents, temperatures, pressures, steps, and byproducts. This gives the <span class="text-white">energy profile per step</span>.</div>
      </div>
      <div class="glass rounded-lg p-3 border-l-2 border-teal">
        <div class="text-xs font-medium text-teal mb-1">üè≠ Factory Audits</div>
        <div class="text-[11px] text-gray-400">465+ factories audited ‚Äî location (grid emission factor), energy sources (solar vs coal vs diesel), reactor types, waste treatment. <span class="text-white">Tamil Nadu on 60% renewables ‚â† Jharkhand on coal.</span></div>
      </div>
      <div class="glass rounded-lg p-3 border-l-2 border-amber">
        <div class="text-xs font-medium text-amber mb-1">üì¶ Raw Material Chain</div>
        <div class="text-[11px] text-gray-400">Scimplify sources inputs ‚Äî they know origin. China-sourced starting material has different embedded carbon than domestic. <span class="text-white">Standard databases (ecoinvent, GaBi) fill gaps.</span></div>
      </div>
      <div class="glass rounded-lg p-3 border-l-2 border-purple-400">
        <div class="text-xs font-medium text-purple-400 mb-1">üö¢ Logistics</div>
        <div class="text-[11px] text-gray-400">They handle shipping ‚Äî sea from Chennai to Rotterdam vs air from Mumbai to Tokyo. <span class="text-white">Sea: 0.01 kg CO‚ÇÇ/ton-km. Air: 0.5 kg CO‚ÇÇ/ton-km ‚Äî 50x difference.</span></div>
      </div>
    </div>
  </div>

  <!-- Four Calculation Blocks -->
  <div class="glass rounded-xl p-5">
    <h3 class="font-semibold text-sm mb-3 text-indigo">The Four-Block Calculation</h3>
    <div class="space-y-3">
      <div class="flex gap-3 items-start">
        <div class="w-8 h-8 shrink-0 rounded-lg bg-indigo/20 flex items-center justify-center text-xs font-bold text-indigo">1</div>
        <div>
          <div class="text-xs font-medium">Reaction Emissions</div>
          <div class="text-[11px] text-gray-400">Energy input per synthesis step (kWh of heating, cooling, stirring, distillation) √ó factory's grid emission factor (kg CO‚ÇÇ/kWh). Plus direct process emissions (e.g., decarboxylation releasing CO‚ÇÇ).</div>
        </div>
      </div>
      <div class="flex gap-3 items-start">
        <div class="w-8 h-8 shrink-0 rounded-lg bg-teal/20 flex items-center justify-center text-xs font-bold text-teal">2</div>
        <div>
          <div class="text-xs font-medium">Raw Material Embedded Carbon</div>
          <div class="text-[11px] text-gray-400">Each starting material carries upstream carbon. Sulfuric acid: ~0.1-0.2 kg CO‚ÇÇ/kg. Specialty intermediates: 5-10 kg CO‚ÇÇ/kg. Sourced from standard LCA databases, refined with actual supplier data over time.</div>
        </div>
      </div>
      <div class="flex gap-3 items-start">
        <div class="w-8 h-8 shrink-0 rounded-lg bg-amber/20 flex items-center justify-center text-xs font-bold text-amber">3</div>
        <div>
          <div class="text-xs font-medium">Factory Overhead</div>
          <div class="text-[11px] text-gray-400">Lighting, HVAC, water treatment, waste treatment ‚Äî allocated proportionally from factory-level energy bills across production volume.</div>
        </div>
      </div>
      <div class="flex gap-3 items-start">
        <div class="w-8 h-8 shrink-0 rounded-lg bg-purple-500/20 flex items-center justify-center text-xs font-bold text-purple-400">4</div>
        <div>
          <div class="text-xs font-medium">Logistics</div>
          <div class="text-[11px] text-gray-400">Weight √ó distance √ó mode emission factor. Standard calculation, Scimplify knows the exact shipping route for every order.</div>
        </div>
      </div>
    </div>
    <div class="mt-4 pt-3 border-t border-white/10 text-center">
      <div class="text-[11px] text-gray-500">Block 1 + Block 2 + Block 3 + Block 4 =</div>
      <div class="text-sm font-bold text-teal mt-1">Product Carbon Footprint (kg CO‚ÇÇe / kg)</div>
    </div>
  </div>

  <!-- The CBAM Savings Example -->
  <div class="glass rounded-xl p-5">
    <h3 class="font-semibold text-sm mb-3 text-indigo">üí∞ Why Buyers Care: The ‚Ç¨21K Example</h3>
    <div class="text-xs text-gray-400 mb-3">At ‚Ç¨75/ton CO‚ÇÇ under CBAM, carbon footprint directly hits the buyer's cost:</div>
    <div class="grid md:grid-cols-3 gap-4 text-center">
      <div class="glass rounded-lg p-3">
        <div class="text-xs text-gray-500 mb-1">Supplier A</div>
        <div class="text-lg font-bold text-amber">5.8 kg CO‚ÇÇ/kg</div>
        <div class="text-xs text-gray-500 mt-1">CBAM cost on 100 tons:</div>
        <div class="font-semibold text-amber">‚Ç¨43,500</div>
      </div>
      <div class="glass rounded-lg p-3">
        <div class="text-xs text-gray-500 mb-1">Supplier B (Scimplify)</div>
        <div class="text-lg font-bold text-teal">3.2 kg CO‚ÇÇ/kg</div>
        <div class="text-xs text-gray-500 mt-1">CBAM cost on 100 tons:</div>
        <div class="font-semibold text-teal">‚Ç¨24,000</div>
      </div>
      <div class="glass rounded-lg p-3 border border-teal/30">
        <div class="text-xs text-gray-500 mb-1">Buyer Saves</div>
        <div class="text-2xl font-bold text-teal">‚Ç¨19,500</div>
        <div class="text-xs text-gray-500 mt-1">per 100-ton order</div>
        <div class="text-[10px] text-teal">Just by choosing lower-carbon supplier</div>
      </div>
    </div>
  </div>

  <!-- Verification & Moat -->
  <div class="grid md:grid-cols-2 gap-4">
    <div class="glass rounded-xl p-5">
      <h3 class="font-semibold text-sm mb-2">üõ°Ô∏è Verification Path</h3>
      <div class="space-y-2 text-[11px] text-gray-400">
        <div class="flex gap-2"><span class="text-teal">Phase 1:</span> Self-declared, ISO 14067 methodology. Top 50 products. Directionally useful.</div>
        <div class="flex gap-2"><span class="text-amber">Phase 2:</span> Energy monitoring at active factories. Real data replaces estimates.</div>
        <div class="flex gap-2"><span class="text-indigo">Phase 3:</span> Third-party certification (T√úV/SGS/Bureau Veritas). Methodology audited.</div>
        <div class="flex gap-2"><span class="text-teal">Phase 4:</span> "Carbon optimization as a service" ‚Äî premium upsell.</div>
      </div>
    </div>
    <div class="glass rounded-xl p-5">
      <h3 class="font-semibold text-sm mb-2">üè∞ The Data Moat</h3>
      <div class="text-[11px] text-gray-400 space-y-2">
        <p>Anyone can multiply emission factors. Nobody else has the <span class="text-white font-medium">accumulation</span> of actual factory + route + logistics data across hundreds of products and facilities.</p>
        <p>Every calculation makes the next one more accurate. After 500 products ‚Üí <span class="text-teal font-medium">proprietary emission database for Indian specialty chemicals</span> that doesn't exist anywhere else.</p>
        <p class="text-white font-medium">Virtuous cycle: better route ‚Üí lower carbon ‚Üí more EU orders ‚Üí more revenue ‚Üí fund more R&D ‚Üí even better routes.</p>
      </div>
    </div>
  </div>

  <!-- Product Listing Preview -->
  <div class="glass rounded-xl p-5">
    <h3 class="font-semibold text-sm mb-3 text-indigo">üìã What It Looks Like on ATOMS</h3>
    <div class="glass rounded-lg p-4 max-w-sm mx-auto border border-white/10">
      <div class="font-semibold text-sm mb-2">Pymetrozine</div>
      <div class="space-y-1 text-xs">
        <div class="flex justify-between"><span class="text-gray-400">Purity</span><span>98%</span></div>
        <div class="flex justify-between"><span class="text-gray-400">CAS</span><span>123312-89-0</span></div>
        <div class="flex justify-between"><span class="text-gray-400">Price</span><span>$42/kg</span></div>
        <div class="flex justify-between"><span class="text-gray-400">Lead time</span><span>4 weeks</span></div>
        <div class="flex justify-between border-t border-white/10 pt-1 mt-1">
          <span class="text-gray-400">Carbon footprint</span>
          <span class="text-teal font-semibold">2.1 kg CO‚ÇÇe/kg <span class="text-[9px] text-gray-500">(ISO 14067)</span></span>
        </div>
      </div>
      <div class="mt-2 text-[10px] text-gray-500 italic">No other marketplace shows this today.</div>
    </div>
  </div>

</div>

<!-- CBAM Calculator -->
<div x-show="gTab==='cbam'" x-cloak>
  <div class="glass rounded-xl p-6">
    <h3 class="font-semibold text-sm mb-4">CBAM Impact Calculator</h3>
    <div class="grid md:grid-cols-2 gap-4 mb-4">
      <div><label class="text-xs text-gray-400 block mb-1">Import Volume (tons)</label><input x-model.number="cbamTons" type="number" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm outline-none focus:border-indigo" placeholder="100"></div>
      <div><label class="text-xs text-gray-400 block mb-1">Destination</label><select class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm outline-none focus:border-indigo"><option>European Union</option></select></div>
    </div>
    <div x-show="cbamTons>0" class="grid md:grid-cols-2 gap-4">
      <div class="glass rounded-lg p-4 border-l-2 border-amber">
        <div class="text-xs text-gray-400 mb-1">Traditional Route</div>
        <div class="text-xl font-bold text-amber" x-text="'‚Ç¨'+(cbamTons*5.8*75).toLocaleString()"></div>
        <div class="text-xs text-gray-500">@ 5.8 tCO‚ÇÇ/ton √ó ‚Ç¨75/tCO‚ÇÇ</div>
      </div>
      <div class="glass rounded-lg p-4 border-l-2 border-teal">
        <div class="text-xs text-gray-400 mb-1">Scimplify Optimized</div>
        <div class="text-xl font-bold text-teal" x-text="'‚Ç¨'+(cbamTons*2.1*75).toLocaleString()"></div>
        <div class="text-xs text-gray-500">@ 2.1 tCO‚ÇÇ/ton √ó ‚Ç¨75/tCO‚ÇÇ</div>
      </div>
    </div>
    <div x-show="cbamTons>0" class="mt-4 text-center">
      <div class="text-sm text-gray-400">Potential Savings</div>
      <div class="text-2xl font-bold text-teal" x-text="'‚Ç¨'+(cbamTons*(5.8-2.1)*75).toLocaleString()"></div>
    </div>
  </div>
</div>
</div>

</main>
</div><!-- end products mode flex -->

</div><!-- end pt-14 -->

<script>
function app(){return{
  mode:'roadmap',
  activeProduct:2,
  products:[
    {id:2,icon:'üìã',name:'IONS Project Hub',shortName:'IONS Hub',tagline:'End-to-end project tracking for custom chemistry',revenue:'‚Çπ2-5Cr/yr',icp:'R&D teams, project managers',analogy:'Monday.com for chemistry',tier:'Must Build'},
    {id:5,icon:'üõí',name:'ATOMS Commerce',shortName:'ATOMS',tagline:'Self-serve catalog, instant quotes, online ordering',revenue:'‚Çπ5-15Cr/yr',icp:'Lab managers, small buyers',analogy:'Amazon Business for chemicals',tier:'Must Build'},
    {id:3,icon:'üï∏Ô∏è',name:'ChemGraph',shortName:'ChemGraph',tagline:'Network intelligence across manufacturers, products, customers',revenue:'‚Çπ1-3Cr/yr',icp:'Strategy teams, supply chain',analogy:'Palantir for chemicals',tier:'Build Next'},
    {id:4,icon:'üõ°Ô∏è',name:'ComplianceOS',shortName:'ComplianceOS',tagline:'Automated compliance, SDS generation, gap analysis',revenue:'‚Çπ1-2Cr/yr',icp:'Quality & regulatory teams',analogy:'Vanta for chemical compliance',tier:'Build Next'},
    {id:6,icon:'üå±',name:'GreenScore',shortName:'GreenScore',tagline:'Carbon scoring, route comparison, CBAM readiness',revenue:'‚Çπ1-3Cr/yr',icp:'EU buyers, ESG teams',analogy:'EcoVadis for synthesis routes',tier:'Build on Traction'},
    {id:1,icon:'üîç',name:'RFQ Intelligence + China+1',shortName:'RFQ Intel',tagline:'AI-powered manufacturer matching and China+1 switching',revenue:'‚Çπ3-8Cr/yr',icp:'Chemical buyers, procurement heads',analogy:'Alibaba RFQ + AI matching',tier:'Build on Traction'},
  ],
  init(){}
}}

function revenueModel(){return{
  products:[
    {
      id:'ions', icon:'üìã', shortName:'IONS Hub', tier:'Must Build', color:'tier-must',
      enabled:true, startMonth:1, duration:6,
      assumption:15, assumptionMin:5, assumptionMax:40, assumptionStep:1,
      assumptionLabel:'Projects/scientist/yr', assumptionUnit:'',
      investmentL:30, // lakhs
      rev12:0, rev24:0,
      revenueLogic:'Revenue = additional projects enabled √ó avg project value (‚Çπ25L). Scientists handle 3-5x more projects. Not direct SaaS ‚Äî capacity unlock on core business.',
      calcRev(month){
        if(month < this.startMonth+this.duration) return 0;
        const monthsLive = month - (this.startMonth+this.duration);
        const extraProjects = Math.min(this.assumption, 5 + monthsLive*0.5) - 5; // projects above baseline 5
        return Math.max(0, extraProjects * 25 / 12); // ‚Çπ25L per project, monthly
      }
    },
    {
      id:'atoms', icon:'üõí', shortName:'ATOMS Commerce', tier:'Must Build', color:'tier-must',
      enabled:true, startMonth:2, duration:7,
      assumption:80, assumptionMin:20, assumptionMax:300, assumptionStep:10,
      assumptionLabel:'Orders/month', assumptionUnit:'',
      investmentL:50,
      rev12:0, rev24:0,
      revenueLogic:'Revenue = monthly orders √ó avg order value (‚Çπ2L) √ó take-rate (3%). Starts with bulk reorders from existing customers, grows with new buyer acquisition.',
      calcRev(month){
        if(month < this.startMonth+this.duration) return 0;
        const monthsLive = month - (this.startMonth+this.duration);
        const orders = Math.min(this.assumption, 20 + monthsLive*8);
        return orders * 2 * 0.03; // orders √ó ‚Çπ2L AOV √ó 3% take-rate = lakhs/mo
      }
    },
    {
      id:'chemgraph', icon:'üï∏Ô∏è', shortName:'ChemGraph', tier:'Build Next', color:'tier-next',
      enabled:true, startMonth:7, duration:6,
      assumption:5, assumptionMin:0, assumptionMax:20, assumptionStep:1,
      assumptionLabel:'Extra deals/quarter', assumptionUnit:'',
      investmentL:80,
      rev12:0, rev24:0,
      revenueLogic:'Phase 1: Internal BD engine. Revenue = additional deals surfaced via cross-sell, supply risk alerts, China+1 detection √ó avg deal value (‚Çπ30L). Not SaaS ‚Äî core business uplift.',
      calcRev(month){
        if(month < this.startMonth+this.duration) return 0;
        const monthsLive = month - (this.startMonth+this.duration);
        const dealsPerMonth = Math.min(this.assumption, 1 + monthsLive*0.3) / 3;
        return dealsPerMonth * 30; // deals/mo √ó ‚Çπ30L per deal
      }
    },
    {
      id:'compliance', icon:'üõ°Ô∏è', shortName:'ComplianceOS', tier:'Build Next', color:'tier-next',
      enabled:true, startMonth:8, duration:5,
      assumption:50, assumptionMin:10, assumptionMax:150, assumptionStep:5,
      assumptionLabel:'Paying facilities', assumptionUnit:'',
      investmentL:60,
      rev12:0, rev24:0,
      revenueLogic:'Revenue = paying facilities √ó avg ‚Çπ6K/mo (cert tracking + SDS). Free gap analysis onboards supply ‚Üí paid tier upsell. Clearest external SaaS revenue.',
      calcRev(month){
        if(month < this.startMonth+this.duration) return 0;
        const monthsLive = month - (this.startMonth+this.duration);
        const facilities = Math.min(this.assumption, 5 + monthsLive*3);
        return facilities * 0.06; // facilities √ó ‚Çπ6K/mo = lakhs/mo
      }
    },
    {
      id:'green', icon:'üå±', shortName:'GreenScore', tier:'Build on Traction', color:'tier-traction',
      enabled:true, startMonth:10, duration:6,
      assumption:30, assumptionMin:5, assumptionMax:100, assumptionStep:5,
      assumptionLabel:'Carbon reports/yr', assumptionUnit:'',
      investmentL:40,
      rev12:0, rev24:0,
      revenueLogic:'Revenue = bundled free with China+1 projects (drives deal value) + standalone carbon reports post-CBAM (‚Çπ1.5L each). Regulatory tailwind from 2027.',
      calcRev(month){
        if(month < this.startMonth+this.duration) return 0;
        const monthsLive = month - (this.startMonth+this.duration);
        const reportsPerMonth = Math.min(this.assumption, 2 + monthsLive*1.5) / 12;
        return reportsPerMonth * 1.5; // reports/mo √ó ‚Çπ1.5L each
      }
    },
    {
      id:'rfq', icon:'üîç', shortName:'RFQ Intel', tier:'Build on Traction', color:'tier-traction',
      enabled:false, startMonth:12, duration:6,
      assumption:10, assumptionMin:2, assumptionMax:30, assumptionStep:1,
      assumptionLabel:'China+1 reports/yr', assumptionUnit:'',
      investmentL:35,
      rev12:0, rev24:0,
      revenueLogic:'Revenue = China+1 assessment reports √ó ‚Çπ3L each (productized consulting). Internal ops acceleration is bonus but not monetized. Subscription model only at 2000+ manufacturers.',
      calcRev(month){
        if(month < this.startMonth+this.duration) return 0;
        const monthsLive = month - (this.startMonth+this.duration);
        const reportsPerMonth = Math.min(this.assumption, 1 + monthsLive*0.5) / 12;
        return reportsPerMonth * 3; // reports/mo √ó ‚Çπ3L each
      }
    },
  ],
  totalRev6:0, totalRev12:0, totalRev24:0, totalInvestment:0, enabledCount:0, maxRev24:0,
  recalc(){
    this.totalRev6=0; this.totalRev12=0; this.totalRev24=0; this.totalInvestment=0; this.enabledCount=0; this.maxRev24=0;
    this.products.forEach(p=>{
      if(p.enabled){
        p.rev12 = p.calcRev(12);
        p.rev24 = p.calcRev(24);
        const rev6 = p.calcRev(6);
        this.totalRev6 += rev6;
        this.totalRev12 += p.rev12;
        this.totalRev24 += p.rev24;
        this.totalInvestment += p.investmentL;
        this.enabledCount++;
        if(p.rev24 > this.maxRev24) this.maxRev24 = p.rev24;
      } else {
        p.rev12=0; p.rev24=0;
      }
    });
  },
  formatLakhs(v){
    if(v>=100) return (v/100).toFixed(1)+'Cr';
    if(v>=1) return v.toFixed(1)+'L';
    if(v>0) return (v*100).toFixed(0)+'K';
    return '0';
  }
}}

function rfqApp(){return{
  form:{compound:'',cas:'',qty:'',purity:'',certs:[],timeline:'3',china1:false,chinaSupplier:'',chinaPrice:'',chinaLead:''},
  matching:false,showResults:false,matchResults:[],
  toggleCert(c){let i=this.form.certs.indexOf(c);i>-1?this.form.certs.splice(i,1):this.form.certs.push(c)},
  submitRFQ(){
    this.matching=true;this.showResults=false;
    const mfrs=[
      {name:"Gujarat Fluorochemicals",location:"Ahmedabad, Gujarat",certs:["FDA","ISO 9001","ISO 14001","REACH","CGMP"]},
      {name:"Anand Chemtex",location:"Vadodara, Gujarat",certs:["FDA","GMP","ISO 9001","REACH"]},
      {name:"Navi Organics",location:"Hyderabad, Telangana",certs:["FDA","GMP","CGMP","ISO 9001","REACH"]},
      {name:"Deccan Fine Chemicals",location:"Pune, Maharashtra",certs:["GMP","CGMP","ISO 9001","ISO 14001"]},
      {name:"Sree Krishna Pharma",location:"Hyderabad, Telangana",certs:["ISO 9001","ISO 14001","ISO 45001"]},
    ];
    setTimeout(()=>{
      this.matchResults=mfrs.map((m,i)=>{
        let cap=95-i*7+Math.floor(Math.random()*10),chem=92-i*5+Math.floor(Math.random()*8),comp=90-i*8+Math.floor(Math.random()*12);
        return{...m,capacity:Math.min(99,cap),chemistry:Math.min(99,chem),compliance:Math.min(99,comp),overall:Math.min(99,Math.round((cap+chem+comp)/3))}
      });
      this.matching=false;this.showResults=true;
    },2000);
  }
}}

function ionsApp(){
  const milestones=['Discovery','Feasibility','Lab Scale','Pilot','Tech Transfer','Qualification','Production'];
  function makeMilestones(activeIdx){return milestones.map((m,i)=>({name:m,status:i<activeIdx?'done':i===activeIdx?'active':'pending',date:i<activeIdx?'2024-'+(i+1).toString().padStart(2,'0'):'‚Äî'}))}
  function makeDocs(type){
    const base=[{icon:'üìÑ',name:'Project Brief.pdf',size:'245 KB',date:'Jan 5, 2024',type:'Brief'},{icon:'üß™',name:'Synthesis Route.pdf',size:'1.2 MB',date:'Jan 12, 2024',type:'SOP'}];
    if(type>1) base.push({icon:'üìä',name:'Analytical Report.xlsx',size:'890 KB',date:'Feb 8, 2024',type:'Report'});
    if(type>2) base.push({icon:'üìã',name:'Recipe v3.pdf',size:'430 KB',date:'Mar 1, 2024',type:'Recipe'},{icon:'‚úÖ',name:'Customer Specs.pdf',size:'310 KB',date:'Jan 2, 2024',type:'Specs'});
    return base;
  }
  return{
    selectedProject:null,showNewProject:false,showCreateForm:false,detailTab:'milestones',
    newProject:{template:'',templateIcon:'',templateDesc:'',molecule:'',purity:'',volume:'',timeline:''},
    templates:[
      {name:'Route Optimization',icon:'üß™',desc:'Optimize synthesis route for cost & yield'},
      {name:'Custom Molecule',icon:'üî¨',desc:'Build a new molecule to customer specs'},
      {name:'China+1 Switch',icon:'üîÑ',desc:'Replace China-sourced intermediate'}
    ],
    scientists:[{name:'Dr. Ravi',count:8},{name:'Dr. Prem',count:6},{name:'Dr. Kumar',count:4}],
    ionsProjects:[
      {id:1,name:'Pymetrozine Route Optimization',stage:'Tech Transfer',complete:70,scientist:'Dr. Ravi',milestones:makeMilestones(4),samples:[{id:'S-001',sent:'Jan 15',status:'Approved',flash:''},{id:'S-002',sent:'Feb 20',status:'Approved',flash:''},{id:'S-003',sent:'Mar 10',status:'Pending',flash:''}],iterations:['V1: Purity 95% ‚Äî rejected by client','V2: Modified catalyst, temp 180¬∞C ‚Äî 97.5%','V3: Optimized temp to 165¬∞C ‚Äî 98.2% ‚úì Approved'],activity:[{date:'Jan 10',text:'Project created from Route Optimization template',type:'info'},{date:'Jan 15',text:'Sample S-001 shipped to customer',type:'shipped'},{date:'Jan 28',text:'Sample S-001 received by customer',type:'received'},{date:'Feb 5',text:'S-001 approved ‚Äî purity 98.2%',type:'approved'},{date:'Feb 20',text:'Sample S-002 shipped',type:'shipped'},{date:'Mar 1',text:'S-002 approved',type:'approved'},{date:'Mar 10',text:'Sample S-003 shipped ‚Äî awaiting feedback',type:'shipped'}],documents:makeDocs(3)},
      {id:2,name:'Custom Musk ‚Äî Sciolide Variant',stage:'Sample Testing',complete:45,scientist:'Dr. Prem',milestones:makeMilestones(2),samples:[{id:'S-010',sent:'Feb 1',status:'Pending',flash:''},{id:'S-011',sent:'Mar 5',status:'Rejected',flash:''}],iterations:['V1: Initial synthesis ‚Äî odor profile mismatch','V2: Adjusted side chain ‚Äî 85% match, iterating'],activity:[{date:'Jan 5',text:'Project created from Custom Molecule template',type:'info'},{date:'Feb 1',text:'Sample S-010 shipped',type:'shipped'},{date:'Feb 15',text:'S-010 pending customer review',type:'info'},{date:'Mar 5',text:'Sample S-011 shipped',type:'shipped'},{date:'Mar 18',text:'S-011 rejected ‚Äî odor profile 85%, need >95%',type:'rejected'}],documents:makeDocs(2)},
      {id:3,name:'Fexo Chloro Alternative Route',stage:'Lab Validation',complete:30,scientist:'Dr. Kumar',milestones:makeMilestones(2),samples:[{id:'S-020',sent:'Mar 1',status:'Pending',flash:''}],iterations:['V1: Chlorination route A ‚Äî yield 62%, needs improvement'],activity:[{date:'Feb 10',text:'Project created from Route Optimization template',type:'info'},{date:'Feb 20',text:'Feasibility study complete',type:'approved'},{date:'Mar 1',text:'Sample S-020 shipped for testing',type:'shipped'}],documents:makeDocs(1)},
      {id:4,name:'CBAM Compliance ‚Äî EU Buyer',stage:'Complete ‚úì',complete:100,scientist:'Dr. Ravi',milestones:makeMilestones(7),samples:[{id:'S-030',sent:'Dec 1',status:'Approved',flash:''},{id:'S-031',sent:'Jan 10',status:'Approved',flash:''}],iterations:['V1: Full LCA completed','V2: Documentation reviewed ‚Äî approved by EU buyer ‚úì'],activity:[{date:'Nov 1',text:'Project created from China+1 Switch template',type:'info'},{date:'Nov 20',text:'LCA assessment completed',type:'approved'},{date:'Dec 1',text:'Sample S-030 shipped',type:'shipped'},{date:'Dec 15',text:'S-030 approved by EU buyer',type:'approved'},{date:'Jan 10',text:'Final sample S-031 shipped',type:'shipped'},{date:'Jan 25',text:'S-031 approved ‚Äî project complete ‚úì',type:'approved'}],documents:makeDocs(3)},
    ],
    get avgCompletion(){return Math.round(this.ionsProjects.reduce((s,p)=>s+p.complete,0)/this.ionsProjects.length)},
    get pendingSamples(){return this.ionsProjects.reduce((s,p)=>s+p.samples.filter(x=>x.status==='Pending').length,0)},
    get onTrack(){return this.ionsProjects.filter(p=>p.complete>=40||p.complete===100).length},
    get delayed(){return this.ionsProjects.filter(p=>p.complete<40&&p.complete!==100).length},
    selectTemplate(t){this.showNewProject=false;this.showCreateForm=true;this.newProject={template:t.name,templateIcon:t.icon,templateDesc:t.desc,molecule:'',purity:'',volume:'',timeline:''}},
    createProject(){
      const p={
        id:Date.now(),name:this.newProject.molecule+' ‚Äî '+this.newProject.template,
        stage:'Discovery',complete:5,scientist:this.scientists[Math.floor(Math.random()*this.scientists.length)].name,
        milestones:makeMilestones(0),
        samples:[],
        iterations:['Project created ‚Äî '+this.newProject.template+' template'],
        activity:[{date:'Today',text:'Project created: '+this.newProject.molecule+' ('+this.newProject.template+')',type:'info'},{date:'Today',text:'Target purity: '+this.newProject.purity+'% | Volume: '+this.newProject.volume+' MT | Timeline: '+this.newProject.timeline+' months',type:'info'}],
        documents:[{icon:'üìÑ',name:'Project Brief.pdf',size:'120 KB',date:'Today',type:'Brief'}]
      };
      this.ionsProjects.unshift(p);this.showCreateForm=false;this.selectedProject=p;this.detailTab='milestones';
    },
    sampleAction(s,status){
      s.status=status;s.flash='bg-white/10';
      const label=status==='Approved'?'approved':status==='Rejected'?'rejected':'revision requested';
      this.selectedProject.activity.push({date:'Now',text:s.id+' '+label+' by customer',type:status==='Approved'?'approved':status==='Rejected'?'rejected':'info'});
      setTimeout(()=>{s.flash=''},600);
    }
  }
}

function chemGraphApp(){
  const nodes=[
    {id:'m1',label:'Anand Chemtex',x:8,y:20,color:'#6366f1',type:'mfr',detail:{location:'Vadodara, Gujarat',certs:['FDA','ISO 9001','REACH'],capacity:'200 MT/yr',reactions:['Hydrogenation','Grignard','Friedel-Crafts']}},
    {id:'m2',label:'Navi Organics',x:6,y:45,color:'#6366f1',type:'mfr',detail:{location:'Hyderabad, Telangana',certs:['GMP','REACH'],capacity:'175 MT/yr',reactions:['Hydrogenation','Grignard']}},
    {id:'m3',label:'Gujarat Fluoro',x:12,y:70,color:'#6366f1',type:'mfr',detail:{location:'Ahmedabad, Gujarat',certs:['ISO 14001','ISO 9001'],capacity:'250 MT/yr',reactions:['Fluorination','Hydrogenation']}},
    {id:'m4',label:'Deccan Fine',x:22,y:10,color:'#6366f1',type:'mfr',detail:{location:'Pune, Maharashtra',certs:['CGMP','ISO 9001'],capacity:'150 MT/yr',reactions:['Oxidation','Esterification']}},
    {id:'m5',label:'Sree Krishna',x:4,y:85,color:'#6366f1',type:'mfr',detail:{location:'Vizag, Andhra Pradesh',certs:['ISO 9001'],capacity:'121 MT/yr',reactions:['Hydrogenation','Condensation']}},
    {id:'m6',label:'Surya Life Sci',x:18,y:42,color:'#6366f1',type:'mfr',detail:{location:'Mumbai, Maharashtra',certs:['FDA','HALAL','GMP'],capacity:'300 MT/yr',reactions:['Amidation','Hydrogenation','Suzuki coupling']}},
    {id:'m7',label:'Kaivin Chem',x:14,y:55,color:'#6366f1',type:'mfr',detail:{location:'Ankleshwar, Gujarat',certs:['ISO 9001'],capacity:'90 MT/yr',reactions:['Chlorination','Nitration']}},
    {id:'m8',label:'Raj Pharma',x:24,y:88,color:'#6366f1',type:'mfr',detail:{location:'Jaipur, Rajasthan',certs:['GMP','WHO-GMP'],capacity:'110 MT/yr',reactions:['Reduction','Acetylation']}},
    {id:'p1',label:'Pymetrozine',x:38,y:30,color:'#f97316',type:'prod',detail:{cas:'123312-89-0',price:'$42‚Äì51/kg',suppliers:['Anand Chemtex','Navi Organics','Gujarat Fluoro','Sree Krishna']}},
    {id:'p2',label:'Fexofenadine',x:42,y:15,color:'#f97316',type:'prod',detail:{cas:'153439-40-8',price:'$4,200‚Äì4,800/kg',suppliers:['Anand Chemtex','Deccan Fine','Surya Life Sci']}},
    {id:'p3',label:'TiO‚ÇÇ',x:32,y:55,color:'#f97316',type:'prod',detail:{cas:'13463-67-7',price:'$480‚Äì520/kg',suppliers:['Gujarat Fluoro','Kaivin Chem']}},
    {id:'p4',label:'Salicylic Acid',x:44,y:65,color:'#f97316',type:'prod',detail:{cas:'69-72-7',price:'$600‚Äì700/kg',suppliers:['Navi Organics','Deccan Fine','Raj Pharma']}},
    {id:'p5',label:'Citric Acid',x:36,y:82,color:'#f97316',type:'prod',detail:{cas:'77-92-9',price:'$150‚Äì200/kg',suppliers:['Sree Krishna','Raj Pharma','Surya Life Sci']}},
    {id:'p6',label:'Zinc Stearate',x:48,y:48,color:'#f97316',type:'prod',detail:{cas:'557-05-1',price:'$300‚Äì380/kg',suppliers:['Kaivin Chem','Gujarat Fluoro']}},
    {id:'c1',label:'EU Pharma Co',x:68,y:12,color:'#22c55e',type:'cust',detail:{region:'Frankfurt, Germany',volume:'$2.4M/yr',products:['Pymetrozine','Fexofenadine']}},
    {id:'c2',label:'US Agri Corp',x:78,y:35,color:'#22c55e',type:'cust',detail:{region:'Iowa, USA',volume:'$1.8M/yr',products:['Pymetrozine','TiO‚ÇÇ','Citric Acid']}},
    {id:'c3',label:'JP Cosmetics',x:72,y:70,color:'#22c55e',type:'cust',detail:{region:'Osaka, Japan',volume:'$950K/yr',products:['Salicylic Acid','Fexofenadine','Zinc Stearate']}},
    {id:'c4',label:'BR Nutri Ltd',x:82,y:58,color:'#22c55e',type:'cust',detail:{region:'S√£o Paulo, Brazil',volume:'$1.1M/yr',products:['Citric Acid','TiO‚ÇÇ']}},
    {id:'c5',label:'IN Coatings',x:65,y:88,color:'#22c55e',type:'cust',detail:{region:'Chennai, India',volume:'$600K/yr',products:['TiO‚ÇÇ','Zinc Stearate']}},
    {id:'c6',label:'KR BioTech',x:88,y:18,color:'#22c55e',type:'cust',detail:{region:'Seoul, South Korea',volume:'$1.5M/yr',products:['Fexofenadine','Pymetrozine']}},
  ];
  const links=[
    ['m1','p1'],['m1','p2'],['m2','p1'],['m2','p4'],['m3','p3'],['m3','p1'],['m4','p2'],['m4','p4'],['m5','p1'],['m5','p5'],
    ['m6','p2'],['m6','p5'],['m7','p3'],['m7','p6'],['m8','p4'],['m8','p5'],['m3','p6'],
    ['p1','c1'],['p1','c2'],['p1','c6'],['p2','c1'],['p2','c3'],['p2','c6'],['p3','c2'],['p3','c4'],['p3','c5'],
    ['p4','c3'],['p5','c2'],['p5','c4'],['p6','c3'],['p6','c5']
  ];
  const lineData=links.map((l,i)=>{
    const a=nodes.find(n=>n.id===l[0]),b=nodes.find(n=>n.id===l[1]);
    return{id:i,x1:a.x+'%',y1:a.y+'%',x2:b.x+'%',y2:b.y+'%',from:l[0],to:l[1],highlighted:false,dimmed:false,animated:false}
  });
  return{
    graphNodes:nodes.map(n=>({...n,highlighted:false,dimmed:false})),
    graphLines:lineData,activeQuery:'',queryTitle:'',queryResult:'',
    searchTerm:'',selectedNode:'',detailPanel:false,detailTitle:'',detailContent:'',
    tooltipVisible:false,tooltipX:0,tooltipY:0,tooltipContent:'',
    _hoverLock:false,
    get visibleNodeCount(){return this.graphNodes.filter(n=>!n.dimmed).length},
    get visibleLineCount(){return this.graphLines.filter(l=>!l.dimmed).length},
    _resetGraph(){this.graphNodes.forEach(n=>{n.highlighted=false;n.dimmed=false});this.graphLines.forEach(l=>{l.highlighted=false;l.dimmed=false;l.animated=false})},
    _highlightConnected(nid,animate){
      const connected=new Set([nid]);
      const affLines=this.graphLines.filter(l=>l.from===nid||l.to===nid);
      affLines.forEach(l=>{l.highlighted=true;if(animate)l.animated=true;connected.add(l.from);connected.add(l.to)});
      this.graphNodes.forEach(n=>{if(connected.has(n.id))n.highlighted=true;else n.dimmed=true});
      this.graphLines.forEach(l=>{if(!l.highlighted)l.dimmed=true});
    },
    hoverNode(nid){
      if(this._hoverLock)return;
      this._resetGraph();
      this._highlightConnected(nid,false);
      const nd=this.graphNodes.find(n=>n.id===nid);
      this.tooltipX=nd.x;this.tooltipY=nd.y;this.tooltipVisible=true;
      const t=nd.type==='mfr'?'Manufacturer':nd.type==='prod'?'Product':'Customer';
      const conns=this.graphLines.filter(l=>l.from===nid||l.to===nid).length;
      this.tooltipContent='<span style="color:'+nd.color+'">'+t+'</span> ¬∑ '+conns+' connections';
    },
    unhoverNode(){
      if(this._hoverLock)return;
      this.tooltipVisible=false;
      if(!this.activeQuery&&!this.searchTerm)this._resetGraph();
      else if(this.searchTerm)this.applySearch();
    },
    clickNode(nid){
      this.selectedNode=nid;this._hoverLock=true;this.tooltipVisible=false;
      this._resetGraph();this._highlightConnected(nid,false);
      const nd=this.graphNodes.find(n=>n.id===nid);
      this.detailTitle=(nd.type==='mfr'?'üîµ ':nd.type==='prod'?'üü† ':'üü¢ ')+nd.label;
      const d=nd.detail;
      if(nd.type==='mfr')this.detailContent='<div><span class="text-gray-400">Location:</span> '+d.location+'</div><div><span class="text-gray-400">Certs:</span> '+d.certs.join(', ')+'</div><div><span class="text-gray-400">Capacity:</span> '+d.capacity+'</div><div><span class="text-gray-400">Reactions:</span> '+d.reactions.join(', ')+'</div>';
      else if(nd.type==='prod')this.detailContent='<div><span class="text-gray-400">CAS:</span> '+d.cas+'</div><div><span class="text-gray-400">Price Range:</span> '+d.price+'</div><div><span class="text-gray-400">Suppliers:</span> '+d.suppliers.join(', ')+'</div>';
      else this.detailContent='<div><span class="text-gray-400">Region:</span> '+d.region+'</div><div><span class="text-gray-400">Order Volume:</span> '+d.volume+'</div><div><span class="text-gray-400">Products:</span> '+d.products.join(', ')+'</div>';
      this.detailPanel=true;
    },
    closeDetail(){this.detailPanel=false;this.selectedNode='';this._hoverLock=false;this._resetGraph();if(this.searchTerm)this.applySearch()},
    applySearch(){
      this._resetGraph();this.activeQuery='';this.queryResult='';this.closeDetail();this._hoverLock=false;
      const s=this.searchTerm.toLowerCase().trim();
      if(!s)return;
      const match=this.graphNodes.find(n=>n.label.toLowerCase().includes(s));
      if(match)this._highlightConnected(match.id,false);
      else this.graphNodes.forEach(n=>n.dimmed=true);
    },
    runQuery(q){
      this.activeQuery=q;this.searchTerm='';this.closeDetail();this._hoverLock=false;
      this._resetGraph();
      const anim=true;
      if(q==='risk'){
        this.queryTitle='‚ö†Ô∏è Supply Risk: Anand Chemtex Offline';
        this._highlightConnected('m1',anim);
        this.queryResult='<div class="text-xs space-y-2"><div class="text-red-400 font-medium">2 products directly affected: Pymetrozine, Fexofenadine</div><div class="text-gray-400">Alternative manufacturers:</div><div>‚Ä¢ Navi Organics (Hyderabad) ‚Äî Hydrogenation, Grignard capable</div><div>‚Ä¢ Gujarat Fluorochemicals ‚Äî Hydrogenation capable, 250 MT capacity</div><div>‚Ä¢ Surya Life Sci (Mumbai) ‚Äî Fexofenadine via Suzuki coupling</div><div class="text-amber mt-2">‚ö†Ô∏è 4 customer orders at risk if not rerouted within 2 weeks</div></div>';
      } else if(q==='cost'){
        this.queryTitle='üí∞ Cost Benchmark: Pymetrozine';
        this._highlightConnected('p1',anim);
        this.queryResult='<table class="w-full text-xs"><thead><tr class="text-gray-500"><th class="text-left pb-1">Manufacturer</th><th class="text-right pb-1">Price/kg</th><th class="text-right pb-1">Capacity</th></tr></thead><tbody><tr class="border-t border-white/5"><td class="py-1">Anand Chemtex</td><td class="text-right text-teal">$42</td><td class="text-right">200 MT</td></tr><tr class="border-t border-white/5"><td class="py-1">Navi Organics</td><td class="text-right">$45</td><td class="text-right">175 MT</td></tr><tr class="border-t border-white/5"><td class="py-1">Gujarat Fluoro</td><td class="text-right">$48</td><td class="text-right">250 MT</td></tr><tr class="border-t border-white/5"><td class="py-1">Sree Krishna</td><td class="text-right text-red-400">$51</td><td class="text-right">121 MT</td></tr></tbody></table>';
      } else if(q==='capacity'){
        this.queryTitle='üè≠ Idle Hydrogenation Capacity';
        ['m1','m2','m3','m5','m6'].forEach(id=>{this.graphNodes.find(n=>n.id===id).highlighted=true});
        this.graphNodes.forEach(n=>{if(!n.highlighted)n.dimmed=true});
        this.queryResult='<div class="text-xs space-y-2"><div class="flex justify-between py-1 border-b border-white/5"><span>Surya Life Sci</span><span class="text-teal">80 MT idle</span></div><div class="flex justify-between py-1 border-b border-white/5"><span>Anand Chemtex</span><span class="text-teal">60 MT idle</span></div><div class="flex justify-between py-1 border-b border-white/5"><span>Navi Organics</span><span class="text-teal">40 MT idle</span></div><div class="flex justify-between py-1 border-b border-white/5"><span>Gujarat Fluoro</span><span class="text-amber">15 MT idle</span></div><div class="flex justify-between py-1 border-b border-white/5"><span>Sree Krishna</span><span class="text-amber">10 MT idle</span></div><div class="mt-2 text-gray-400">5 pending orders could utilize this capacity (est. ‚Çπ3.2Cr revenue)</div></div>';
      } else if(q==='china'){
        this.queryTitle='üîÑ China+1 Opportunities (>70% China Dependency)';
        ['p1','p2','p6'].forEach(id=>{const n=this.graphNodes.find(x=>x.id===id);n.highlighted=true});
        this.graphNodes.forEach(n=>{if(!n.highlighted)n.dimmed=true});
        this.queryResult='<div class="text-xs space-y-2"><div class="flex justify-between py-1 border-b border-white/5"><span>Pymetrozine</span><span class="text-red-400">82% China</span><span class="text-teal">4 Indian alternatives</span></div><div class="flex justify-between py-1 border-b border-white/5"><span>Fexofenadine Intermediate</span><span class="text-red-400">76% China</span><span class="text-teal">3 Indian alternatives</span></div><div class="flex justify-between py-1 border-b border-white/5"><span>Zinc Stearate</span><span class="text-amber">71% China</span><span class="text-teal">2 Indian alternatives</span></div><div class="mt-2 text-gray-400">Estimated switching revenue opportunity: $3.1M over 18 months</div></div>';
      } else if(q==='crosssell'){
        this.queryTitle='üîÑ Cross-Sell: EU Pharma Co also needs...';
        this._highlightConnected('c1',anim);
        this.queryResult='<div class="text-xs space-y-2"><div class="text-gray-400">EU Pharma Co currently buys: Pymetrozine, Fexofenadine</div><div class="font-medium text-teal mt-1">Recommended cross-sell opportunities:</div><div class="flex justify-between py-1 border-b border-white/5"><span>Salicylic Acid</span><span class="text-gray-400">via Deccan Fine</span><span class="text-teal">$180K potential</span></div><div class="flex justify-between py-1 border-b border-white/5"><span>Citric Acid</span><span class="text-gray-400">via Surya Life Sci</span><span class="text-teal">$95K potential</span></div><div class="flex justify-between py-1 border-b border-white/5"><span>TiO‚ÇÇ</span><span class="text-gray-400">via Gujarat Fluoro</span><span class="text-teal">$120K potential</span></div><div class="mt-2 text-gray-400">Based on similar customer purchase patterns (87% confidence)</div></div>';
      } else if(q==='anomaly'){
        this.queryTitle='üìä Price Anomaly: Above-Market Pricing Detected';
        ['m5','m7','m8'].forEach(id=>{const n=this.graphNodes.find(x=>x.id===id);n.highlighted=true});
        this.graphNodes.forEach(n=>{if(!n.highlighted)n.dimmed=true});
        this.queryResult='<div class="text-xs space-y-2"><div class="text-red-400 font-medium">3 pricing anomalies detected in last 30 days</div><table class="w-full mt-1"><thead><tr class="text-gray-500"><th class="text-left pb-1">Product</th><th class="text-left pb-1">Supplier</th><th class="text-right pb-1">Quoted</th><th class="text-right pb-1">Market Avg</th><th class="text-right pb-1">Œî</th></tr></thead><tbody><tr class="border-t border-white/5"><td class="py-1">Pymetrozine</td><td>Sree Krishna</td><td class="text-right">$51</td><td class="text-right text-gray-400">$45</td><td class="text-right text-red-400">+13%</td></tr><tr class="border-t border-white/5"><td class="py-1">TiO‚ÇÇ</td><td>Kaivin Chem</td><td class="text-right">$580</td><td class="text-right text-gray-400">$500</td><td class="text-right text-red-400">+16%</td></tr><tr class="border-t border-white/5"><td class="py-1">Salicylic Acid</td><td>Raj Pharma</td><td class="text-right">$740</td><td class="text-right text-gray-400">$650</td><td class="text-right text-red-400">+14%</td></tr></tbody></table><div class="mt-2 text-gray-400">üí° Negotiate or switch to alternative suppliers to save ~$85K/yr</div></div>';
      }
    }
  }
}

function complianceApp(){return{
  cTab:'certs',sdsPreview:false,gapFacility:'anand',
  sdsForm:{name:'',cas:'',comp:'',hazard:'Irritant'},
  certData:[
    {id:1,facility:'Anand Chemtex',type:'FDA',issued:'2023-06-15',expires:'2026-06-15',status:'Valid'},
    {id:2,facility:'Anand Chemtex',type:'ISO 9001',issued:'2022-01-10',expires:'2025-01-10',status:'Expired'},
    {id:3,facility:'Navi Organics',type:'GMP',issued:'2024-03-01',expires:'2027-03-01',status:'Valid'},
    {id:4,facility:'Navi Organics',type:'REACH',issued:'2023-09-20',expires:'2025-04-20',status:'Expiring'},
    {id:5,facility:'Deccan Fine',type:'CGMP',issued:'2024-01-15',expires:'2027-01-15',status:'Valid'},
    {id:6,facility:'Gujarat Fluoro',type:'ISO 14001',issued:'2023-11-01',expires:'2025-05-01',status:'Expiring'},
    {id:7,facility:'Sree Krishna',type:'ISO 9001',issued:'2024-06-01',expires:'2027-06-01',status:'Valid'},
    {id:8,facility:'Surya Life Sci',type:'HALAL',issued:'2024-02-10',expires:'2026-02-10',status:'Valid'},
  ],
  gapData:{
    anand:[{cert:'FDA',has:true},{cert:'ISO 9001',has:true},{cert:'ISO 14001',has:false,fix:'~3 months, audit required'},{cert:'REACH',has:true},{cert:'CGMP',has:false,fix:'~6 months, process upgrade needed'},{cert:'HALAL',has:false,fix:'~2 months, certification body visit'}],
    deccan:[{cert:'FDA',has:false,fix:'~6 months, facility upgrade needed'},{cert:'ISO 9001',has:true},{cert:'ISO 14001',has:true},{cert:'REACH',has:false,fix:'~4 months, registration pending'},{cert:'CGMP',has:true},{cert:'HALAL',has:false,fix:'~2 months'}],
    kaivin:[{cert:'FDA',has:false,fix:'~8 months, major upgrade'},{cert:'ISO 9001',has:true},{cert:'ISO 14001',has:false,fix:'~4 months'},{cert:'REACH',has:false,fix:'~5 months'},{cert:'CGMP',has:false,fix:'~6 months'},{cert:'HALAL',has:false,fix:'~2 months'}],
  }
}}

function atomsApp(){
  const prods=[
    {id:1,name:'Magnesium Hydroxide',cas:'1309-42-8',purity:99,price:420,minOrder:25,certs:['ISO 9001','GMP'],mw:'58.32'},
    {id:2,name:'Pymetrozine',cas:'123312-89-0',purity:98,price:3200,minOrder:5,certs:['FDA','GMP','REACH'],mw:'217.23'},
    {id:3,name:'Fexofenadine HCl',cas:'153439-40-8',purity:99.5,price:4800,minOrder:1,certs:['FDA','CGMP','ISO 9001'],mw:'538.12'},
    {id:4,name:'Sodium Fluoride',cas:'7681-49-4',purity:99,price:280,minOrder:50,certs:['ISO 9001'],mw:'41.99'},
    {id:5,name:'Zinc Stearate',cas:'557-05-1',purity:98,price:350,minOrder:25,certs:['ISO 9001','GMP'],mw:'632.33'},
    {id:6,name:'Titanium Dioxide',cas:'13463-67-7',purity:99,price:520,minOrder:50,certs:['ISO 9001','ISO 14001','REACH'],mw:'79.87'},
    {id:7,name:'Citric Acid Anhydrous',cas:'77-92-9',purity:99.5,price:180,minOrder:100,certs:['FDA','GMP','HALAL'],mw:'192.12'},
    {id:8,name:'Salicylic Acid',cas:'69-72-7',purity:99,price:650,minOrder:10,certs:['FDA','GMP','ISO 9001'],mw:'138.12'},
  ];
  return{
    products:prods,search:'',filterPurity:'',showDetail:null,showCart:false,showQuote:false,cart:[],
    get filteredProducts(){return this.products.filter(p=>{
      if(this.search&&!p.name.toLowerCase().includes(this.search.toLowerCase()))return false;
      if(this.filterPurity&&p.purity<parseFloat(this.filterPurity))return false;
      return true;
    })},
    addToCart(p){if(!this.cart.find(c=>c.name===p.name))this.cart.push({name:p.name,price:p.price,qty:p.minOrder})},
    cartTotal(){return this.cart.reduce((s,c)=>s+c.price*c.qty,0)}
  }
}

function greenApp(){return{
  gTab:'compare',cbamTons:100,
  routes:[
    {name:'Traditional Route',grade:'B',steps:8,energy:45,water:120,waste:3.2,co2:5.8},
    {name:'Scimplify Optimized',grade:'A+',steps:5,energy:22,water:45,waste:0.8,co2:2.1},
  ],
  metricLabels:{steps:'Steps',energy:'Energy',water:'Water',waste:'Waste',co2:'CO‚ÇÇ'},
  metricUnits:{steps:'steps',energy:'kWh/kg',water:'L/kg',waste:'kg/kg',co2:'kg CO‚ÇÇe/kg'},
  maxMetric(m){return Math.max(...this.routes.map(r=>r[m]))}
}}
</script>
</body>
</html>
